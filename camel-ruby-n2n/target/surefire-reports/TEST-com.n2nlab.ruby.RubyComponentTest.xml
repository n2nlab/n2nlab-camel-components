<?xml version="1.0" encoding="UTF-8"?>
<testsuite xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://maven.apache.org/surefire/maven-surefire-plugin/xsd/surefire-test-report-3.0.xsd" version="3.0" name="com.n2nlab.ruby.RubyComponentTest" time="5.696" tests="4" errors="0" skipped="0" failures="0">
  <properties>
    <property name="java.specification.version" value="22"/>
    <property name="sun.cpu.isalist" value="amd64"/>
    <property name="sun.jnu.encoding" value="Cp1252"/>
    <property name="java.class.path" value="C:\Users\mahmoudxyz\Desktop\n2n-camel-components\camel-ruby-n2n\target\test-classes;C:\Users\mahmoudxyz\Desktop\n2n-camel-components\camel-ruby-n2n\target\classes;C:\Users\mahmoudxyz\.m2\repository\org\jruby\jruby-complete\9.4.2.0\jruby-complete-9.4.2.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-support\4.8.0\camel-support-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-api\4.8.0\camel-api-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\jakarta\xml\bind\jakarta.xml.bind-api\4.0.2\jakarta.xml.bind-api-4.0.2.jar;C:\Users\mahmoudxyz\.m2\repository\jakarta\activation\jakarta.activation-api\2.1.3\jakarta.activation-api-2.1.3.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-management-api\4.8.0\camel-management-api-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-util\4.8.0\camel-util-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-util-json\4.8.0\camel-util-json-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-xml-jaxp-util\4.8.0\camel-xml-jaxp-util-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-core\4.8.0\camel-core-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-core-engine\4.8.0\camel-core-engine-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-base-engine\4.8.0\camel-base-engine-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-base\4.8.0\camel-base-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-core-reifier\4.8.0\camel-core-reifier-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-core-processor\4.8.0\camel-core-processor-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-core-languages\4.8.0\camel-core-languages-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-core-model\4.8.0\camel-core-model-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-bean\4.8.0\camel-bean-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-browse\4.8.0\camel-browse-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-cluster\4.8.0\camel-cluster-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-controlbus\4.8.0\camel-controlbus-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-dataformat\4.8.0\camel-dataformat-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-dataset\4.8.0\camel-dataset-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-direct\4.8.0\camel-direct-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-file\4.8.0\camel-file-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\commons-codec\commons-codec\1.17.1\commons-codec-1.17.1.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-health\4.8.0\camel-health-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-language\4.8.0\camel-language-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-log\4.8.0\camel-log-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-mock\4.8.0\camel-mock-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-ref\4.8.0\camel-ref-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-rest\4.8.0\camel-rest-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-tooling-model\4.8.0\camel-tooling-model-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-saga\4.8.0\camel-saga-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-scheduler\4.8.0\camel-scheduler-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-seda\4.8.0\camel-seda-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-stub\4.8.0\camel-stub-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-timer\4.8.0\camel-timer-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-validator\4.8.0\camel-validator-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-xpath\4.8.0\camel-xpath-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-xslt\4.8.0\camel-xslt-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-xml-io\4.8.0\camel-xml-io-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-xml-io-util\4.8.0\camel-xml-io-util-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-xml-jaxb\4.8.0\camel-xml-jaxb-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\glassfish\jaxb\jaxb-runtime\4.0.5\jaxb-runtime-4.0.5.jar;C:\Users\mahmoudxyz\.m2\repository\org\glassfish\jaxb\jaxb-core\4.0.5\jaxb-core-4.0.5.jar;C:\Users\mahmoudxyz\.m2\repository\org\eclipse\angus\angus-activation\2.0.2\angus-activation-2.0.2.jar;C:\Users\mahmoudxyz\.m2\repository\org\glassfish\jaxb\txw2\4.0.5\txw2-4.0.5.jar;C:\Users\mahmoudxyz\.m2\repository\com\sun\istack\istack-commons-runtime\4.1.2\istack-commons-runtime-4.1.2.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-xml-jaxp\4.8.0\camel-xml-jaxp-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-yaml-io\4.8.0\camel-yaml-io-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-core-catalog\4.8.0\camel-core-catalog-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\com\fasterxml\jackson\dataformat\jackson-dataformat-yaml\2.17.2\jackson-dataformat-yaml-2.17.2.jar;C:\Users\mahmoudxyz\.m2\repository\org\yaml\snakeyaml\2.2\snakeyaml-2.2.jar;C:\Users\mahmoudxyz\.m2\repository\com\fasterxml\jackson\core\jackson-databind\2.15.2\jackson-databind-2.15.2.jar;C:\Users\mahmoudxyz\.m2\repository\com\fasterxml\jackson\core\jackson-annotations\2.15.2\jackson-annotations-2.15.2.jar;C:\Users\mahmoudxyz\.m2\repository\com\fasterxml\jackson\core\jackson-core\2.15.2\jackson-core-2.15.2.jar;C:\Users\mahmoudxyz\.m2\repository\org\slf4j\slf4j-api\2.0.9\slf4j-api-2.0.9.jar;C:\Users\mahmoudxyz\.m2\repository\org\junit\jupiter\junit-jupiter-api\5.10.0\junit-jupiter-api-5.10.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\opentest4j\opentest4j\1.3.0\opentest4j-1.3.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\junit\platform\junit-platform-commons\1.10.0\junit-platform-commons-1.10.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apiguardian\apiguardian-api\1.1.2\apiguardian-api-1.1.2.jar;C:\Users\mahmoudxyz\.m2\repository\org\junit\jupiter\junit-jupiter-engine\5.10.0\junit-jupiter-engine-5.10.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\junit\platform\junit-platform-engine\1.10.0\junit-platform-engine-1.10.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\mockito\mockito-core\5.6.0\mockito-core-5.6.0.jar;C:\Users\mahmoudxyz\.m2\repository\net\bytebuddy\byte-buddy\1.14.8\byte-buddy-1.14.8.jar;C:\Users\mahmoudxyz\.m2\repository\net\bytebuddy\byte-buddy-agent\1.14.8\byte-buddy-agent-1.14.8.jar;C:\Users\mahmoudxyz\.m2\repository\org\objenesis\objenesis\3.3\objenesis-3.3.jar;C:\Users\mahmoudxyz\.m2\repository\org\mockito\mockito-junit-jupiter\5.6.0\mockito-junit-jupiter-5.6.0.jar;C:\Users\mahmoudxyz\.m2\repository\ch\qos\logback\logback-classic\1.5.8\logback-classic-1.5.8.jar;C:\Users\mahmoudxyz\.m2\repository\ch\qos\logback\logback-core\1.5.8\logback-core-1.5.8.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-test-junit5\4.8.0\camel-test-junit5-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\junit\jupiter\junit-jupiter-params\5.11.0\junit-jupiter-params-5.11.0.jar;"/>
    <property name="java.vm.vendor" value="Oracle Corporation"/>
    <property name="sun.arch.data.model" value="64"/>
    <property name="user.variant" value=""/>
    <property name="java.vendor.url" value="https://java.oracle.com/"/>
    <property name="user.timezone" value="Africa/Cairo"/>
    <property name="os.name" value="Windows 11"/>
    <property name="java.vm.specification.version" value="22"/>
    <property name="sun.java.launcher" value="SUN_STANDARD"/>
    <property name="user.country" value="US"/>
    <property name="sun.boot.library.path" value="C:\Program Files\Java\jdk-22\bin"/>
    <property name="sun.java.command" value="C:\Users\mahmoudxyz\AppData\Local\Temp\surefire989971379383220321\surefirebooter-20250123055149727_3.jar C:\Users\mahmoudxyz\AppData\Local\Temp\surefire989971379383220321 2025-01-23T05-51-49_561-jvmRun1 surefire-20250123055149727_1tmp surefire_0-20250123055149727_2tmp"/>
    <property name="jdk.debug" value="release"/>
    <property name="surefire.test.class.path" value="C:\Users\mahmoudxyz\Desktop\n2n-camel-components\camel-ruby-n2n\target\test-classes;C:\Users\mahmoudxyz\Desktop\n2n-camel-components\camel-ruby-n2n\target\classes;C:\Users\mahmoudxyz\.m2\repository\org\jruby\jruby-complete\9.4.2.0\jruby-complete-9.4.2.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-support\4.8.0\camel-support-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-api\4.8.0\camel-api-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\jakarta\xml\bind\jakarta.xml.bind-api\4.0.2\jakarta.xml.bind-api-4.0.2.jar;C:\Users\mahmoudxyz\.m2\repository\jakarta\activation\jakarta.activation-api\2.1.3\jakarta.activation-api-2.1.3.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-management-api\4.8.0\camel-management-api-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-util\4.8.0\camel-util-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-util-json\4.8.0\camel-util-json-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-xml-jaxp-util\4.8.0\camel-xml-jaxp-util-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-core\4.8.0\camel-core-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-core-engine\4.8.0\camel-core-engine-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-base-engine\4.8.0\camel-base-engine-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-base\4.8.0\camel-base-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-core-reifier\4.8.0\camel-core-reifier-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-core-processor\4.8.0\camel-core-processor-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-core-languages\4.8.0\camel-core-languages-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-core-model\4.8.0\camel-core-model-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-bean\4.8.0\camel-bean-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-browse\4.8.0\camel-browse-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-cluster\4.8.0\camel-cluster-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-controlbus\4.8.0\camel-controlbus-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-dataformat\4.8.0\camel-dataformat-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-dataset\4.8.0\camel-dataset-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-direct\4.8.0\camel-direct-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-file\4.8.0\camel-file-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\commons-codec\commons-codec\1.17.1\commons-codec-1.17.1.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-health\4.8.0\camel-health-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-language\4.8.0\camel-language-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-log\4.8.0\camel-log-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-mock\4.8.0\camel-mock-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-ref\4.8.0\camel-ref-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-rest\4.8.0\camel-rest-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-tooling-model\4.8.0\camel-tooling-model-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-saga\4.8.0\camel-saga-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-scheduler\4.8.0\camel-scheduler-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-seda\4.8.0\camel-seda-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-stub\4.8.0\camel-stub-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-timer\4.8.0\camel-timer-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-validator\4.8.0\camel-validator-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-xpath\4.8.0\camel-xpath-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-xslt\4.8.0\camel-xslt-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-xml-io\4.8.0\camel-xml-io-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-xml-io-util\4.8.0\camel-xml-io-util-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-xml-jaxb\4.8.0\camel-xml-jaxb-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\glassfish\jaxb\jaxb-runtime\4.0.5\jaxb-runtime-4.0.5.jar;C:\Users\mahmoudxyz\.m2\repository\org\glassfish\jaxb\jaxb-core\4.0.5\jaxb-core-4.0.5.jar;C:\Users\mahmoudxyz\.m2\repository\org\eclipse\angus\angus-activation\2.0.2\angus-activation-2.0.2.jar;C:\Users\mahmoudxyz\.m2\repository\org\glassfish\jaxb\txw2\4.0.5\txw2-4.0.5.jar;C:\Users\mahmoudxyz\.m2\repository\com\sun\istack\istack-commons-runtime\4.1.2\istack-commons-runtime-4.1.2.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-xml-jaxp\4.8.0\camel-xml-jaxp-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-yaml-io\4.8.0\camel-yaml-io-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-core-catalog\4.8.0\camel-core-catalog-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\com\fasterxml\jackson\dataformat\jackson-dataformat-yaml\2.17.2\jackson-dataformat-yaml-2.17.2.jar;C:\Users\mahmoudxyz\.m2\repository\org\yaml\snakeyaml\2.2\snakeyaml-2.2.jar;C:\Users\mahmoudxyz\.m2\repository\com\fasterxml\jackson\core\jackson-databind\2.15.2\jackson-databind-2.15.2.jar;C:\Users\mahmoudxyz\.m2\repository\com\fasterxml\jackson\core\jackson-annotations\2.15.2\jackson-annotations-2.15.2.jar;C:\Users\mahmoudxyz\.m2\repository\com\fasterxml\jackson\core\jackson-core\2.15.2\jackson-core-2.15.2.jar;C:\Users\mahmoudxyz\.m2\repository\org\slf4j\slf4j-api\2.0.9\slf4j-api-2.0.9.jar;C:\Users\mahmoudxyz\.m2\repository\org\junit\jupiter\junit-jupiter-api\5.10.0\junit-jupiter-api-5.10.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\opentest4j\opentest4j\1.3.0\opentest4j-1.3.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\junit\platform\junit-platform-commons\1.10.0\junit-platform-commons-1.10.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\apiguardian\apiguardian-api\1.1.2\apiguardian-api-1.1.2.jar;C:\Users\mahmoudxyz\.m2\repository\org\junit\jupiter\junit-jupiter-engine\5.10.0\junit-jupiter-engine-5.10.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\junit\platform\junit-platform-engine\1.10.0\junit-platform-engine-1.10.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\mockito\mockito-core\5.6.0\mockito-core-5.6.0.jar;C:\Users\mahmoudxyz\.m2\repository\net\bytebuddy\byte-buddy\1.14.8\byte-buddy-1.14.8.jar;C:\Users\mahmoudxyz\.m2\repository\net\bytebuddy\byte-buddy-agent\1.14.8\byte-buddy-agent-1.14.8.jar;C:\Users\mahmoudxyz\.m2\repository\org\objenesis\objenesis\3.3\objenesis-3.3.jar;C:\Users\mahmoudxyz\.m2\repository\org\mockito\mockito-junit-jupiter\5.6.0\mockito-junit-jupiter-5.6.0.jar;C:\Users\mahmoudxyz\.m2\repository\ch\qos\logback\logback-classic\1.5.8\logback-classic-1.5.8.jar;C:\Users\mahmoudxyz\.m2\repository\ch\qos\logback\logback-core\1.5.8\logback-core-1.5.8.jar;C:\Users\mahmoudxyz\.m2\repository\org\apache\camel\camel-test-junit5\4.8.0\camel-test-junit5-4.8.0.jar;C:\Users\mahmoudxyz\.m2\repository\org\junit\jupiter\junit-jupiter-params\5.11.0\junit-jupiter-params-5.11.0.jar;"/>
    <property name="sun.cpu.endian" value="little"/>
    <property name="user.home" value="C:\Users\mahmoudxyz"/>
    <property name="user.language" value="en"/>
    <property name="java.specification.vendor" value="Oracle Corporation"/>
    <property name="java.version.date" value="2024-04-16"/>
    <property name="java.home" value="C:\Program Files\Java\jdk-22"/>
    <property name="file.separator" value="\"/>
    <property name="basedir" value="C:\Users\mahmoudxyz\Desktop\n2n-camel-components\camel-ruby-n2n"/>
    <property name="java.vm.compressedOopsMode" value="32-bit"/>
    <property name="line.separator" value="&#10;"/>
    <property name="java.vm.specification.vendor" value="Oracle Corporation"/>
    <property name="java.specification.name" value="Java Platform API Specification"/>
    <property name="surefire.real.class.path" value="C:\Users\mahmoudxyz\AppData\Local\Temp\surefire989971379383220321\surefirebooter-20250123055149727_3.jar"/>
    <property name="user.script" value=""/>
    <property name="sun.management.compiler" value="HotSpot 64-Bit Tiered Compilers"/>
    <property name="java.runtime.version" value="22.0.1+8-16"/>
    <property name="user.name" value="mahmoudxyz"/>
    <property name="stdout.encoding" value="Cp1252"/>
    <property name="path.separator" value=";"/>
    <property name="os.version" value="10.0"/>
    <property name="java.runtime.name" value="Java(TM) SE Runtime Environment"/>
    <property name="file.encoding" value="UTF-8"/>
    <property name="java.vm.name" value="Java HotSpot(TM) 64-Bit Server VM"/>
    <property name="localRepository" value="C:\Users\mahmoudxyz\.m2\repository"/>
    <property name="java.vendor.url.bug" value="https://bugreport.java.com/bugreport/"/>
    <property name="java.io.tmpdir" value="C:\Users\MAHMOU~1\AppData\Local\Temp\"/>
    <property name="java.version" value="22.0.1"/>
    <property name="user.dir" value="C:\Users\mahmoudxyz\Desktop\n2n-camel-components\camel-ruby-n2n"/>
    <property name="os.arch" value="amd64"/>
    <property name="java.vm.specification.name" value="Java Virtual Machine Specification"/>
    <property name="sun.os.patch.level" value=""/>
    <property name="native.encoding" value="Cp1252"/>
    <property name="java.library.path" value="C:\Program Files\Java\jdk-22\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\Program Files\Common Files\Oracle\Java\javapath;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\WINDOWS\System32\OpenSSH\;C:\Program Files\nodejs\;C:\Program Files\Git\cmd;C:\Users\mahmoudxyz\Documents\apache-maven-3.9.8\bin;C:\Program Files\Docker\Docker\resources\bin;C:\Program Files\ibm\gsk8\lib64;C:\Program Files (x86)\ibm\gsk8\lib;C:\PROGRA~1\IBM\SQLLIB~1\BIN;C:\PROGRA~1\IBM\SQLLIB~1\FUNCTION;C:\PROGRA~1\IBM\SQLLIB~1\SAMPLES\REPL;C:\minikube;C:\Program Files (x86)\Gpg4win\..\GnuPG\bin;C:\Program Files\PowerShell\7\;C:\Users\mahmoudxyz\AppData\Local\pnpm;C:\Program Files\MySQL\MySQL Shell 8.0\bin\;C:\Users\mahmoudxyz\AppData\Local\Microsoft\WindowsApps;C:\Users\mahmoudxyz\AppData\Local\Programs\Microsoft VS Code\bin;C:\Users\mahmoudxyz\AppData\Local\Microsoft\WinGet\Packages\Schniz.fnm_Microsoft.Winget.Source_8wekyb3d8bbwe;C:\Users\mahmoudxyz\AppData\Roaming\npm;C:\Program Files\JetBrains\IntelliJ IDEA 2024.1.3\bin;C:\Users\mahmoudxyz\AppData\Local\Coursier\data\bin;C:\Users\mahmoudxyz\.nixpacks\bin;C:\Users\mahmoudxyz\Documents\pack-v0.35.0-windows;C:\Program Files\PostgreSQL\16\bin;C:\Program Files\PostgreSQL\16\lib;C:\Users\mahmoudxyz\Documents\apache-maven-3.9.8\bin;C:\Program Files\kubectl;;."/>
    <property name="java.vm.info" value="mixed mode, sharing"/>
    <property name="stderr.encoding" value="Cp1252"/>
    <property name="java.vendor" value="Oracle Corporation"/>
    <property name="java.vm.version" value="22.0.1+8-16"/>
    <property name="sun.io.unicode.encoding" value="UnicodeLittle"/>
    <property name="java.class.version" value="66.0"/>
  </properties>
  <testcase name="testMultiLineScriptEncoded" classname="com.n2nlab.ruby.RubyComponentTest" time="3.816">
    <system-out><![CDATA[05:51:50.610 [main] DEBUG org.apache.camel.test.junit5.TransientCamelContextManager -- Initializing a new CamelContext
05:51:50.661 [main] DEBUG org.apache.camel.support.LRUCacheFactory -- Creating DefaultLRUCacheFactory
05:51:50.663 [main] DEBUG org.apache.camel.impl.engine.DefaultCamelContextExtension -- Setting up management with factory: org.apache.camel.impl.engine.DefaultManagementStrategyFactory@5db6b9cd
05:51:50.672 [main] DEBUG org.apache.camel.support.ResolverHelper -- Found HealthCheckRegistry: org.apache.camel.impl.health.DefaultHealthCheckRegistry via: META-INF/services/org/apache/camel/health-check/default-registry
05:51:50.675 [main] DEBUG org.apache.camel.support.ResolverHelper -- Detected and using HealthCheckRegistry: org.apache.camel.impl.health.DefaultHealthCheckRegistry@1e4f4a5c
05:51:50.678 [main] DEBUG org.apache.camel.impl.health.DefaultHealthCheckRegistry -- HealthCheckRepository with id registry-health-check-repository successfully registered
05:51:50.687 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Loading file META-INF/services/org/apache/camel/TypeConverterLoader to retrieve list of type converters, from url: jar:file:/C:/Users/mahmoudxyz/.m2/repository/org/apache/camel/camel-support/4.8.0/camel-support-4.8.0.jar!/META-INF/services/org/apache/camel/TypeConverterLoader
05:51:50.687 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Loading file META-INF/services/org/apache/camel/TypeConverterLoader to retrieve list of type converters, from url: jar:file:/C:/Users/mahmoudxyz/.m2/repository/org/apache/camel/camel-base/4.8.0/camel-base-4.8.0.jar!/META-INF/services/org/apache/camel/TypeConverterLoader
05:51:50.688 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Loading file META-INF/services/org/apache/camel/TypeConverterLoader to retrieve list of type converters, from url: jar:file:/C:/Users/mahmoudxyz/.m2/repository/org/apache/camel/camel-file/4.8.0/camel-file-4.8.0.jar!/META-INF/services/org/apache/camel/TypeConverterLoader
05:51:50.688 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Loading file META-INF/services/org/apache/camel/TypeConverterLoader to retrieve list of type converters, from url: jar:file:/C:/Users/mahmoudxyz/.m2/repository/org/apache/camel/camel-xml-jaxp/4.8.0/camel-xml-jaxp-4.8.0.jar!/META-INF/services/org/apache/camel/TypeConverterLoader
05:51:50.688 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Resolving TypeConverterLoader: org.apache.camel.converter.stream.StreamCacheBulkConverterLoader
05:51:50.689 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- TypeConverterLoader: org.apache.camel.converter.stream.StreamCacheBulkConverterLoader loading converters
05:51:50.691 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Resolving TypeConverterLoader: org.apache.camel.converter.CamelBaseBulkConverterLoader
05:51:50.692 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- TypeConverterLoader: org.apache.camel.converter.CamelBaseBulkConverterLoader loading converters
05:51:50.693 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Resolving TypeConverterLoader: org.apache.camel.component.file.GenericFileConverterLoader
05:51:50.693 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- TypeConverterLoader: org.apache.camel.component.file.GenericFileConverterLoader loading converters
05:51:50.696 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Resolving TypeConverterLoader: org.apache.camel.converter.jaxp.CamelXmlJaxpBulkConverterLoader
05:51:50.698 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- TypeConverterLoader: org.apache.camel.converter.jaxp.CamelXmlJaxpBulkConverterLoader loading converters
05:51:50.700 [main] DEBUG org.apache.camel.impl.converter.DefaultTypeConverter -- Loaded 240 type converters in 13ms
05:51:50.705 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-1) built in 45ms
05:51:50.723 [main] DEBUG org.apache.camel.util.concurrent.ThreadType -- The type of thread detected is: PLATFORM
05:51:50.731 [main] DEBUG org.apache.camel.impl.engine.BaseExecutorServiceManager -- Created new ScheduledThreadPool for source: ErrorHandlerRedeliveryThreadPool with name: ErrorHandlerRedeliveryTask -> org.apache.camel.util.concurrent.SizedScheduledExecutorService@7fc4780b[ErrorHandlerRedeliveryTask]
05:51:50.735 [main] DEBUG org.apache.camel.impl.engine.DefaultCamelContextExtension -- Setting up management with factory: org.apache.camel.impl.engine.DefaultManagementStrategyFactory@1e4d3ce5
05:51:50.752 [main] DEBUG org.apache.camel.support.ResolverHelper -- Found InternalProcessorFactory: org.apache.camel.processor.DefaultInternalProcessorFactory via: META-INF/services/org/apache/camel/internal-processor-factory
05:51:50.754 [main] DEBUG org.apache.camel.support.ResolverHelper -- Detected and using InternalProcessorFactory: org.apache.camel.processor.DefaultInternalProcessorFactory@6cdba6dc
05:51:50.776 [main] DEBUG org.apache.camel.support.ResolverHelper -- Found PropertiesComponent: org.apache.camel.component.properties.PropertiesComponent via: META-INF/services/org/apache/camel/properties-component-factory
05:51:50.783 [main] DEBUG org.apache.camel.support.ResolverHelper -- Detected and using PropertiesComponent: org.apache.camel.component.properties.PropertiesComponent@301eda63
05:51:50.802 [main] DEBUG org.apache.camel.test.junit5.util.CamelContextTestHelper -- Using created route builder to add routes: Routes: []
05:51:50.803 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Adding routes from builder: Routes: []
05:51:50.847 [main] DEBUG org.apache.camel.test.junit5.util.CamelContextTestHelper -- Using created route builder to add templated routes: Routes: [Route[From[direct:simple] -> [To[ruby:simple?rubyScript=$body.to_s.upcase]]], Route[From[direct:multiline-encoded] -> [To[ruby:transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK]]], Route[From[direct:multiline] -> [To[ruby:transform?scriptPath=src/test/resources/scripts/transform_multiline.rb]]], Route[From[direct:headers] -> [To[ruby:headers?rubyScript=set_header('OutputHeader', get_header('InputHeader'))]]], Route[From[direct:properties] -> [To[ruby:properties?rubyScript=val = get_exchange_property('InputProperty'); set_exchange_property('OutputProperty', val + '-modified')]]]]
05:51:50.864 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Adding templated routes from builder: Routes: [Route[From[direct:simple] -> [To[ruby:simple?rubyScript=$body.to_s.upcase]]], Route[From[direct:multiline-encoded] -> [To[ruby:transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK]]], Route[From[direct:multiline] -> [To[ruby:transform?scriptPath=src/test/resources/scripts/transform_multiline.rb]]], Route[From[direct:headers] -> [To[ruby:headers?rubyScript=set_header('OutputHeader', get_header('InputHeader'))]]], Route[From[direct:properties] -> [To[ruby:properties?rubyScript=val = get_exchange_property('InputProperty'); set_exchange_property('OutputProperty', val + '-modified')]]]]
05:51:50.881 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Resolving language: simple
05:51:50.881 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Language with name simple in registry. Found: null
05:51:50.881 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Language with name simple-language in registry. Found: null
05:51:50.885 [main] DEBUG org.apache.camel.language.simple.SimpleLanguage -- Simple language predicate/expression cache size: 1000
05:51:50.924 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ComponentResolver: org.apache.camel.impl.engine.DefaultComponentResolver@46268f08 to resolve component with name: direct
05:51:50.925 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Component with name direct in registry. Found: null
05:51:50.925 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Component with name direct-component in registry. Found: null
05:51:50.928 [main] DEBUG org.apache.camel.impl.engine.DefaultComponentResolver -- Found component: direct via type: org.apache.camel.component.direct.DirectComponent via: META-INF/services/org/apache/camel/component/direct
05:51:50.936 [main] DEBUG org.apache.camel.impl.engine.DefaultConfigurerResolver -- Found configurer: direct-component via type: org.apache.camel.component.direct.DirectComponentConfigurer via: META-INF/services/org/apache/camel/configurer/direct-component
05:51:50.938 [main] DEBUG org.apache.camel.impl.engine.DefaultConfigurerResolver -- Found configurer: direct-endpoint via type: org.apache.camel.component.direct.DirectEndpointConfigurer via: META-INF/services/org/apache/camel/configurer/direct-endpoint
05:51:50.940 [main] DEBUG org.apache.camel.impl.engine.DefaultConfigurerResolver -- Found configurer: direct-component via type: org.apache.camel.component.direct.DirectComponentConfigurer via: META-INF/services/org/apache/camel/configurer/direct-component
05:51:50.943 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://simple], path=[simple]
05:51:50.947 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://simple converted to endpoint: direct://simple by component: org.apache.camel.component.direct.DirectComponent@77b14724
05:51:50.958 [main] DEBUG org.apache.camel.support.ResolverHelper -- Found ProcessorFactory: org.apache.camel.processor.DefaultProcessorFactory via: META-INF/services/org/apache/camel/processor-factory
05:51:50.958 [main] DEBUG org.apache.camel.support.ResolverHelper -- Detected and using ProcessorFactory: org.apache.camel.processor.DefaultProcessorFactory@22ffa91a
05:51:50.962 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ComponentResolver: org.apache.camel.impl.engine.DefaultComponentResolver@46268f08 to resolve component with name: ruby
05:51:50.962 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Component with name ruby in registry. Found: null
05:51:50.962 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Component with name ruby-component in registry. Found: null
05:51:50.964 [main] DEBUG org.apache.camel.impl.engine.DefaultComponentResolver -- Found component: ruby via type: com.n2nlab.ruby.RubyComponent via: META-INF/services/org/apache/camel/component/ruby
05:51:50.968 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://simple?rubyScript=$body.to_s.upcase], path=[simple]
05:51:50.969 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://simple?rubyScript=$body.to_s.upcase
05:51:50.989 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://simple?rubyScript=$body.to_s.upcase converted to endpoint: ruby://simple?rubyScript=$body.to_s.upcase by component: com.n2nlab.ruby.RubyComponent@24d09c1
05:51:51.023 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://multiline-encoded], path=[multiline-encoded]
05:51:51.023 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://multiline-encoded converted to endpoint: direct://multiline-encoded by component: org.apache.camel.component.direct.DirectComponent@77b14724
05:51:51.027 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK], path=[transform]
05:51:51.027 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK
05:51:51.030 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK converted to endpoint: ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK by component: com.n2nlab.ruby.RubyComponent@24d09c1
05:51:51.033 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://multiline], path=[multiline]
05:51:51.034 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://multiline converted to endpoint: direct://multiline by component: org.apache.camel.component.direct.DirectComponent@77b14724
05:51:51.034 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb], path=[transform]
05:51:51.035 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb
05:51:51.036 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb converted to endpoint: ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb by component: com.n2nlab.ruby.RubyComponent@24d09c1
05:51:51.037 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://headers], path=[headers]
05:51:51.037 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://headers converted to endpoint: direct://headers by component: org.apache.camel.component.direct.DirectComponent@77b14724
05:51:51.037 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29], path=[headers]
05:51:51.038 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29
05:51:51.038 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29 converted to endpoint: ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29 by component: com.n2nlab.ruby.RubyComponent@24d09c1
05:51:51.039 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://properties], path=[properties]
05:51:51.039 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://properties converted to endpoint: direct://properties by component: org.apache.camel.component.direct.DirectComponent@77b14724
05:51:51.039 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29], path=[properties]
05:51:51.039 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29
05:51:51.039 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29 converted to endpoint: ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29 by component: com.n2nlab.ruby.RubyComponent@24d09c1
05:51:51.041 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route1
05:51:51.048 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route2
05:51:51.049 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route3
05:51:51.049 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route4
05:51:51.049 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route5
05:51:51.051 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-1) initialized in 185ms
05:51:51.051 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-1) is starting
05:51:51.052 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ClassResolver=org.apache.camel.impl.engine.DefaultClassResolver@1af687fe, PackageScanClassResolver=org.apache.camel.impl.engine.DefaultPackageScanClassResolver@14dda234, ApplicationContextClassLoader=null, RouteController=org.apache.camel.impl.engine.DefaultRouteController@3f390d63
05:51:51.052 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- StreamCaching is disabled on CamelContext: camel-1
05:51:51.059 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using HeadersMapFactory: org.apache.camel.impl.engine.DefaultHeadersMapFactory@5733f295
05:51:51.059 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ReactiveExecutor: org.apache.camel.impl.engine.DefaultReactiveExecutor@1c3146bc
05:51:51.059 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ThreadPoolFactory: org.apache.camel.support.DefaultThreadPoolFactory@56c698e3
05:51:51.059 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using HealthCheck: camel-health
05:51:51.060 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route1 having autoStartup=true
05:51:51.063 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://simple?rubyScript=$body.to_s.upcase]
05:51:51.332 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route2 having autoStartup=true
05:51:51.332 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK]
05:51:51.334 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route3 having autoStartup=true
05:51:51.334 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb]
05:51:51.334 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route4 having autoStartup=true
05:51:51.334 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29]
05:51:51.335 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route5 having autoStartup=true
05:51:51.335 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29]
05:51:51.336 [main] DEBUG org.apache.camel.impl.engine.DefaultStreamCachingStrategy -- StreamCaching configuration DefaultStreamCachingStrategy[spoolDirectoryEnabled=false, spoolDirectory=null, spoolCipher=null, spoolThreshold=131072, spoolUsedHeapMemoryThreshold=0, bufferSize=16384, anySpoolRules=false]
05:51:51.345 [main] DEBUG org.apache.camel.impl.engine.DefaultStreamCachingStrategy -- StreamCaching in use
05:51:51.345 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route1 >>> Route[direct://simple -> null]
05:51:51.345 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1000) on route: route1
05:51:51.345 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://simple]
05:51:51.346 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://simple]
05:51:51.346 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://simple]
05:51:51.346 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route1 started and consuming from: direct://simple
05:51:51.347 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route2 >>> Route[direct://multiline-encoded -> null]
05:51:51.347 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1001) on route: route2
05:51:51.347 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://multiline-encoded]
05:51:51.347 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://multiline-encoded]
05:51:51.347 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://multiline-encoded]
05:51:51.347 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route2 started and consuming from: direct://multiline-encoded
05:51:51.347 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route3 >>> Route[direct://multiline -> null]
05:51:51.347 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1002) on route: route3
05:51:51.347 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://multiline]
05:51:51.348 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://multiline]
05:51:51.348 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://multiline]
05:51:51.348 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route3 started and consuming from: direct://multiline
05:51:51.348 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route4 >>> Route[direct://headers -> null]
05:51:51.348 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1003) on route: route4
05:51:51.348 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://headers]
05:51:51.348 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://headers]
05:51:51.348 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://headers]
05:51:51.348 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route4 started and consuming from: direct://headers
05:51:51.348 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route5 >>> Route[direct://properties -> null]
05:51:51.348 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1004) on route: route5
05:51:51.348 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://properties]
05:51:51.348 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://properties]
05:51:51.348 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://properties]
05:51:51.349 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route5 started and consuming from: direct://properties
05:51:51.349 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- BeanIntrospection invoked 5 times during starting Camel
05:51:51.354 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Routes startup (total:5)
05:51:51.354 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route1 (direct://simple)
05:51:51.354 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route2 (direct://multiline-encoded)
05:51:51.354 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route3 (direct://multiline)
05:51:51.354 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route4 (direct://headers)
05:51:51.354 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route5 (direct://properties)
05:51:51.354 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-1) started in 532ms (build:45ms init:185ms start:302ms)
05:51:51.356 [main] DEBUG org.apache.camel.impl.DefaultCamelContext -- start() took 490 millis
05:51:51.356 [main] DEBUG org.apache.camel.test.junit5.TransientCamelContextManager -- Routing Rules are: [Route[direct://simple -> null], Route[direct://multiline-encoded -> null], Route[direct://multiline -> null], Route[direct://headers -> null], Route[direct://properties -> null]]
05:51:51.356 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- ********************************************************************************
05:51:51.357 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- Testing: testMultiLineScriptEncoded() (com.n2nlab.ruby.RubyComponentTest)
05:51:51.357 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- ********************************************************************************
05:51:51.369 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[direct://multiline-encoded]
05:51:51.370 [main] DEBUG org.apache.camel.support.cache.DefaultProducerCache -- >>>> direct://multiline-encoded Exchange[]
05:51:51.379 [main] DEBUG org.apache.camel.processor.SendProcessor -- >>>> ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK Exchange[]
05:51:54.365 [main] DEBUG org.apache.camel.test.junit5.CamelTestSupport -- tearDown()
05:51:54.367 [main] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[direct://multiline-encoded]
05:51:54.367 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-1) is shutting down (timeout:10s)
05:51:54.368 [main] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Starting to graceful shutdown 5 routes (timeout 10 seconds)
05:51:54.369 [main] DEBUG org.apache.camel.impl.engine.BaseExecutorServiceManager -- Created new ThreadPool for source: org.apache.camel.impl.engine.DefaultShutdownStrategy@13137835 with name: ShutdownTask. -> org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@65d6640[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0][ShutdownTask]
05:51:54.376 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- There are 5 routes to shutdown
05:51:54.377 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route5 suspension deferred.
05:51:54.377 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route4 suspension deferred.
05:51:54.377 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route3 suspension deferred.
05:51:54.377 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route2 suspension deferred.
05:51:54.377 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route1 suspension deferred.
05:51:54.378 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route5 preparing to shutdown complete.
05:51:54.378 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route4 preparing to shutdown complete.
05:51:54.378 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route3 preparing to shutdown complete.
05:51:54.378 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route2 preparing to shutdown complete.
05:51:54.378 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route1 preparing to shutdown complete.
05:51:54.378 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://properties]
05:51:54.378 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29]
05:51:54.379 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route5 shutdown complete, was consuming from: direct://properties
05:51:54.379 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://headers]
05:51:54.379 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29]
05:51:54.379 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route4 shutdown complete, was consuming from: direct://headers
05:51:54.379 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://multiline]
05:51:54.379 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb]
05:51:54.379 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route3 shutdown complete, was consuming from: direct://multiline
05:51:54.379 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://multiline-encoded]
05:51:54.379 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK]
05:51:54.379 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route2 shutdown complete, was consuming from: direct://multiline-encoded
05:51:54.379 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://simple]
05:51:54.379 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://simple?rubyScript=$body.to_s.upcase]
05:51:54.379 [Camel (camel-1) thread #1 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route1 shutdown complete, was consuming from: direct://simple
05:51:54.379 [main] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Graceful shutdown of 5 routes completed in 11ms
05:51:54.379 [main] DEBUG org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager -- Shutting down with no inflight threads.
05:51:54.381 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://properties]
05:51:54.382 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://headers]
05:51:54.383 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://multiline]
05:51:54.383 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://multiline-encoded]
05:51:54.383 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://simple]
05:51:54.384 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Routes stopped (total:5)
05:51:54.385 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route5 (direct://properties)
05:51:54.385 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route4 (direct://headers)
05:51:54.385 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route3 (direct://multiline)
05:51:54.385 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route2 (direct://multiline-encoded)
05:51:54.385 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route1 (direct://simple)
05:51:54.385 [main] DEBUG org.apache.camel.impl.engine.BaseExecutorServiceManager -- Forcing shutdown of ExecutorService: org.apache.camel.util.concurrent.SizedScheduledExecutorService@7fc4780b[ErrorHandlerRedeliveryTask]
05:51:54.387 [main] DEBUG org.apache.camel.impl.engine.DefaultBeanIntrospection -- Stopping BeanIntrospection which was invoked: 5 times
05:51:54.387 [main] DEBUG org.apache.camel.impl.engine.DefaultInflightRepository -- Shutting down with no inflight exchanges.
05:51:54.387 [main] DEBUG org.apache.camel.impl.engine.BaseExecutorServiceManager -- Forcing shutdown of ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@65d6640[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1][ShutdownTask]
05:51:54.389 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-1) shutdown in 21ms (uptime:3s)
05:51:54.391 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- ********************************************************************************
05:51:54.391 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- Testing done: testMultiLineScriptEncoded (com.n2nlab.ruby.RubyComponentTest)
05:51:54.391 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- Took: 3s34ms (3034 millis)
05:51:54.391 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- ********************************************************************************
]]></system-out>
    <system-err><![CDATA[2025-01-23T05:51:52.662+02:00 [main] WARN FilenoUtil : Native subprocess control requires open access to the JDK IO subsystem
Pass '--add-opens java.base/sun.nio.ch=ALL-UNNAMED --add-opens java.base/java.io=ALL-UNNAMED' to enable.
]]></system-err>
  </testcase>
  <testcase name="testSimpleRubyScript" classname="com.n2nlab.ruby.RubyComponentTest" time="0.699">
    <system-out><![CDATA[05:51:54.408 [main] DEBUG org.apache.camel.test.junit5.TransientCamelContextManager -- Initializing a new CamelContext
05:51:54.410 [main] DEBUG org.apache.camel.impl.engine.DefaultCamelContextExtension -- Setting up management with factory: org.apache.camel.impl.engine.DefaultManagementStrategyFactory@2d3c501b
05:51:54.410 [main] DEBUG org.apache.camel.support.ResolverHelper -- Found HealthCheckRegistry: org.apache.camel.impl.health.DefaultHealthCheckRegistry via: META-INF/services/org/apache/camel/health-check/default-registry
05:51:54.411 [main] DEBUG org.apache.camel.support.ResolverHelper -- Detected and using HealthCheckRegistry: org.apache.camel.impl.health.DefaultHealthCheckRegistry@7619fbe7
05:51:54.411 [main] DEBUG org.apache.camel.impl.health.DefaultHealthCheckRegistry -- HealthCheckRepository with id registry-health-check-repository successfully registered
05:51:54.412 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Loading file META-INF/services/org/apache/camel/TypeConverterLoader to retrieve list of type converters, from url: jar:file:/C:/Users/mahmoudxyz/.m2/repository/org/apache/camel/camel-support/4.8.0/camel-support-4.8.0.jar!/META-INF/services/org/apache/camel/TypeConverterLoader
05:51:54.412 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Loading file META-INF/services/org/apache/camel/TypeConverterLoader to retrieve list of type converters, from url: jar:file:/C:/Users/mahmoudxyz/.m2/repository/org/apache/camel/camel-base/4.8.0/camel-base-4.8.0.jar!/META-INF/services/org/apache/camel/TypeConverterLoader
05:51:54.412 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Loading file META-INF/services/org/apache/camel/TypeConverterLoader to retrieve list of type converters, from url: jar:file:/C:/Users/mahmoudxyz/.m2/repository/org/apache/camel/camel-file/4.8.0/camel-file-4.8.0.jar!/META-INF/services/org/apache/camel/TypeConverterLoader
05:51:54.412 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Loading file META-INF/services/org/apache/camel/TypeConverterLoader to retrieve list of type converters, from url: jar:file:/C:/Users/mahmoudxyz/.m2/repository/org/apache/camel/camel-xml-jaxp/4.8.0/camel-xml-jaxp-4.8.0.jar!/META-INF/services/org/apache/camel/TypeConverterLoader
05:51:54.412 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Resolving TypeConverterLoader: org.apache.camel.converter.stream.StreamCacheBulkConverterLoader
05:51:54.413 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- TypeConverterLoader: org.apache.camel.converter.stream.StreamCacheBulkConverterLoader loading converters
05:51:54.413 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Resolving TypeConverterLoader: org.apache.camel.converter.CamelBaseBulkConverterLoader
05:51:54.413 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- TypeConverterLoader: org.apache.camel.converter.CamelBaseBulkConverterLoader loading converters
05:51:54.413 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Resolving TypeConverterLoader: org.apache.camel.component.file.GenericFileConverterLoader
05:51:54.413 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- TypeConverterLoader: org.apache.camel.component.file.GenericFileConverterLoader loading converters
05:51:54.413 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Resolving TypeConverterLoader: org.apache.camel.converter.jaxp.CamelXmlJaxpBulkConverterLoader
05:51:54.413 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- TypeConverterLoader: org.apache.camel.converter.jaxp.CamelXmlJaxpBulkConverterLoader loading converters
05:51:54.413 [main] DEBUG org.apache.camel.impl.converter.DefaultTypeConverter -- Loaded 240 type converters in 1ms
05:51:54.413 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-2) built in 4ms
05:51:54.415 [main] DEBUG org.apache.camel.impl.engine.BaseExecutorServiceManager -- Created new ScheduledThreadPool for source: ErrorHandlerRedeliveryThreadPool with name: ErrorHandlerRedeliveryTask -> org.apache.camel.util.concurrent.SizedScheduledExecutorService@55e5415d[ErrorHandlerRedeliveryTask]
05:51:54.415 [main] DEBUG org.apache.camel.impl.engine.DefaultCamelContextExtension -- Setting up management with factory: org.apache.camel.impl.engine.DefaultManagementStrategyFactory@b8142f4
05:51:54.416 [main] DEBUG org.apache.camel.support.ResolverHelper -- Found InternalProcessorFactory: org.apache.camel.processor.DefaultInternalProcessorFactory via: META-INF/services/org/apache/camel/internal-processor-factory
05:51:54.417 [main] DEBUG org.apache.camel.support.ResolverHelper -- Detected and using InternalProcessorFactory: org.apache.camel.processor.DefaultInternalProcessorFactory@3265995e
05:51:54.419 [main] DEBUG org.apache.camel.support.ResolverHelper -- Found PropertiesComponent: org.apache.camel.component.properties.PropertiesComponent via: META-INF/services/org/apache/camel/properties-component-factory
05:51:54.420 [main] DEBUG org.apache.camel.support.ResolverHelper -- Detected and using PropertiesComponent: org.apache.camel.component.properties.PropertiesComponent@2ed7978c
05:51:54.421 [main] DEBUG org.apache.camel.test.junit5.util.CamelContextTestHelper -- Using created route builder to add routes: Routes: []
05:51:54.422 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Adding routes from builder: Routes: []
05:51:54.422 [main] DEBUG org.apache.camel.test.junit5.util.CamelContextTestHelper -- Using created route builder to add templated routes: Routes: [Route[From[direct:simple] -> [To[ruby:simple?rubyScript=$body.to_s.upcase]]], Route[From[direct:multiline-encoded] -> [To[ruby:transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK]]], Route[From[direct:multiline] -> [To[ruby:transform?scriptPath=src/test/resources/scripts/transform_multiline.rb]]], Route[From[direct:headers] -> [To[ruby:headers?rubyScript=set_header('OutputHeader', get_header('InputHeader'))]]], Route[From[direct:properties] -> [To[ruby:properties?rubyScript=val = get_exchange_property('InputProperty'); set_exchange_property('OutputProperty', val + '-modified')]]]]
05:51:54.435 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Adding templated routes from builder: Routes: [Route[From[direct:simple] -> [To[ruby:simple?rubyScript=$body.to_s.upcase]]], Route[From[direct:multiline-encoded] -> [To[ruby:transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK]]], Route[From[direct:multiline] -> [To[ruby:transform?scriptPath=src/test/resources/scripts/transform_multiline.rb]]], Route[From[direct:headers] -> [To[ruby:headers?rubyScript=set_header('OutputHeader', get_header('InputHeader'))]]], Route[From[direct:properties] -> [To[ruby:properties?rubyScript=val = get_exchange_property('InputProperty'); set_exchange_property('OutputProperty', val + '-modified')]]]]
05:51:54.436 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Resolving language: simple
05:51:54.436 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Language with name simple in registry. Found: null
05:51:54.436 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Language with name simple-language in registry. Found: null
05:51:54.437 [main] DEBUG org.apache.camel.language.simple.SimpleLanguage -- Simple language predicate/expression cache size: 1000
05:51:54.439 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ComponentResolver: org.apache.camel.impl.engine.DefaultComponentResolver@50b38342 to resolve component with name: direct
05:51:54.439 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Component with name direct in registry. Found: null
05:51:54.439 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Component with name direct-component in registry. Found: null
05:51:54.440 [main] DEBUG org.apache.camel.impl.engine.DefaultComponentResolver -- Found component: direct via type: org.apache.camel.component.direct.DirectComponent via: META-INF/services/org/apache/camel/component/direct
05:51:54.441 [main] DEBUG org.apache.camel.impl.engine.DefaultConfigurerResolver -- Found configurer: direct-component via type: org.apache.camel.component.direct.DirectComponentConfigurer via: META-INF/services/org/apache/camel/configurer/direct-component
05:51:54.442 [main] DEBUG org.apache.camel.impl.engine.DefaultConfigurerResolver -- Found configurer: direct-endpoint via type: org.apache.camel.component.direct.DirectEndpointConfigurer via: META-INF/services/org/apache/camel/configurer/direct-endpoint
05:51:54.442 [main] DEBUG org.apache.camel.impl.engine.DefaultConfigurerResolver -- Found configurer: direct-component via type: org.apache.camel.component.direct.DirectComponentConfigurer via: META-INF/services/org/apache/camel/configurer/direct-component
05:51:54.442 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://simple], path=[simple]
05:51:54.443 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://simple converted to endpoint: direct://simple by component: org.apache.camel.component.direct.DirectComponent@183ef89a
05:51:54.444 [main] DEBUG org.apache.camel.support.ResolverHelper -- Found ProcessorFactory: org.apache.camel.processor.DefaultProcessorFactory via: META-INF/services/org/apache/camel/processor-factory
05:51:54.444 [main] DEBUG org.apache.camel.support.ResolverHelper -- Detected and using ProcessorFactory: org.apache.camel.processor.DefaultProcessorFactory@351e86b2
05:51:54.445 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ComponentResolver: org.apache.camel.impl.engine.DefaultComponentResolver@50b38342 to resolve component with name: ruby
05:51:54.445 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Component with name ruby in registry. Found: null
05:51:54.445 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Component with name ruby-component in registry. Found: null
05:51:54.447 [main] DEBUG org.apache.camel.impl.engine.DefaultComponentResolver -- Found component: ruby via type: com.n2nlab.ruby.RubyComponent via: META-INF/services/org/apache/camel/component/ruby
05:51:54.448 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://simple?rubyScript=$body.to_s.upcase], path=[simple]
05:51:54.448 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://simple?rubyScript=$body.to_s.upcase
05:51:54.449 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://simple?rubyScript=$body.to_s.upcase converted to endpoint: ruby://simple?rubyScript=$body.to_s.upcase by component: com.n2nlab.ruby.RubyComponent@5a8b42a3
05:51:54.450 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://multiline-encoded], path=[multiline-encoded]
05:51:54.450 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://multiline-encoded converted to endpoint: direct://multiline-encoded by component: org.apache.camel.component.direct.DirectComponent@183ef89a
05:51:54.452 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK], path=[transform]
05:51:54.454 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK
05:51:54.455 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK converted to endpoint: ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK by component: com.n2nlab.ruby.RubyComponent@5a8b42a3
05:51:54.459 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://multiline], path=[multiline]
05:51:54.459 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://multiline converted to endpoint: direct://multiline by component: org.apache.camel.component.direct.DirectComponent@183ef89a
05:51:54.459 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb], path=[transform]
05:51:54.459 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb
05:51:54.459 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb converted to endpoint: ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb by component: com.n2nlab.ruby.RubyComponent@5a8b42a3
05:51:54.460 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://headers], path=[headers]
05:51:54.460 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://headers converted to endpoint: direct://headers by component: org.apache.camel.component.direct.DirectComponent@183ef89a
05:51:54.460 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29], path=[headers]
05:51:54.461 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29
05:51:54.461 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29 converted to endpoint: ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29 by component: com.n2nlab.ruby.RubyComponent@5a8b42a3
05:51:54.461 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://properties], path=[properties]
05:51:54.461 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://properties converted to endpoint: direct://properties by component: org.apache.camel.component.direct.DirectComponent@183ef89a
05:51:54.462 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29], path=[properties]
05:51:54.462 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29
05:51:54.462 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29 converted to endpoint: ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29 by component: com.n2nlab.ruby.RubyComponent@5a8b42a3
05:51:54.463 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route6
05:51:54.463 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route7
05:51:54.463 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route8
05:51:54.463 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route9
05:51:54.463 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route10
05:51:54.464 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-2) initialized in 28ms
05:51:54.464 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-2) is starting
05:51:54.464 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ClassResolver=org.apache.camel.impl.engine.DefaultClassResolver@cfb94fd, PackageScanClassResolver=org.apache.camel.impl.engine.DefaultPackageScanClassResolver@4ebd8d2, ApplicationContextClassLoader=null, RouteController=org.apache.camel.impl.engine.DefaultRouteController@44a44a04
05:51:54.464 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- StreamCaching is disabled on CamelContext: camel-2
05:51:54.465 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using HeadersMapFactory: org.apache.camel.impl.engine.DefaultHeadersMapFactory@5a63fa71
05:51:54.465 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ReactiveExecutor: org.apache.camel.impl.engine.DefaultReactiveExecutor@a6fc1bc
05:51:54.465 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ThreadPoolFactory: org.apache.camel.support.DefaultThreadPoolFactory@5018b56b
05:51:54.465 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using HealthCheck: camel-health
05:51:54.465 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route6 having autoStartup=true
05:51:54.465 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://simple?rubyScript=$body.to_s.upcase]
05:51:54.465 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route7 having autoStartup=true
05:51:54.466 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK]
05:51:54.469 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route8 having autoStartup=true
05:51:54.469 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb]
05:51:54.469 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route9 having autoStartup=true
05:51:54.469 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29]
05:51:54.469 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route10 having autoStartup=true
05:51:54.469 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29]
05:51:54.470 [main] DEBUG org.apache.camel.impl.engine.DefaultStreamCachingStrategy -- StreamCaching configuration DefaultStreamCachingStrategy[spoolDirectoryEnabled=false, spoolDirectory=null, spoolCipher=null, spoolThreshold=131072, spoolUsedHeapMemoryThreshold=0, bufferSize=16384, anySpoolRules=false]
05:51:54.470 [main] DEBUG org.apache.camel.impl.engine.DefaultStreamCachingStrategy -- StreamCaching in use
05:51:54.470 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route6 >>> Route[direct://simple -> null]
05:51:54.470 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1000) on route: route6
05:51:54.470 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://simple]
05:51:54.470 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://simple]
05:51:54.470 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://simple]
05:51:54.470 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route6 started and consuming from: direct://simple
05:51:54.470 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route7 >>> Route[direct://multiline-encoded -> null]
05:51:54.470 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1001) on route: route7
05:51:54.470 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://multiline-encoded]
05:51:54.470 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://multiline-encoded]
05:51:54.470 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://multiline-encoded]
05:51:54.470 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route7 started and consuming from: direct://multiline-encoded
05:51:54.470 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route8 >>> Route[direct://multiline -> null]
05:51:54.470 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1002) on route: route8
05:51:54.470 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://multiline]
05:51:54.470 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://multiline]
05:51:54.470 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://multiline]
05:51:54.470 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route8 started and consuming from: direct://multiline
05:51:54.470 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route9 >>> Route[direct://headers -> null]
05:51:54.470 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1003) on route: route9
05:51:54.470 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://headers]
05:51:54.471 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://headers]
05:51:54.471 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://headers]
05:51:54.471 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route9 started and consuming from: direct://headers
05:51:54.471 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route10 >>> Route[direct://properties -> null]
05:51:54.471 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1004) on route: route10
05:51:54.471 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://properties]
05:51:54.471 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://properties]
05:51:54.471 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://properties]
05:51:54.471 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route10 started and consuming from: direct://properties
05:51:54.471 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- BeanIntrospection invoked 5 times during starting Camel
05:51:54.471 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Routes startup (total:5)
05:51:54.471 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route6 (direct://simple)
05:51:54.471 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route7 (direct://multiline-encoded)
05:51:54.471 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route8 (direct://multiline)
05:51:54.471 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route9 (direct://headers)
05:51:54.471 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route10 (direct://properties)
05:51:54.471 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-2) started in 38ms (build:4ms init:28ms start:6ms)
05:51:54.471 [main] DEBUG org.apache.camel.impl.DefaultCamelContext -- start() took 36 millis
05:51:54.471 [main] DEBUG org.apache.camel.test.junit5.TransientCamelContextManager -- Routing Rules are: [Route[direct://simple -> null], Route[direct://multiline-encoded -> null], Route[direct://multiline -> null], Route[direct://headers -> null], Route[direct://properties -> null]]
05:51:54.471 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- ********************************************************************************
05:51:54.471 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- Testing: testSimpleRubyScript() (com.n2nlab.ruby.RubyComponentTest)
05:51:54.471 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- ********************************************************************************
05:51:54.473 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[direct://simple]
05:51:54.473 [main] DEBUG org.apache.camel.support.cache.DefaultProducerCache -- >>>> direct://simple Exchange[]
05:51:54.473 [main] DEBUG org.apache.camel.processor.SendProcessor -- >>>> ruby://simple?rubyScript=$body.to_s.upcase Exchange[]
05:51:55.096 [main] DEBUG org.apache.camel.test.junit5.CamelTestSupport -- tearDown()
05:51:55.096 [main] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[direct://simple]
05:51:55.096 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-2) is shutting down (timeout:10s)
05:51:55.096 [main] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Starting to graceful shutdown 5 routes (timeout 10 seconds)
05:51:55.096 [main] DEBUG org.apache.camel.impl.engine.BaseExecutorServiceManager -- Created new ThreadPool for source: org.apache.camel.impl.engine.DefaultShutdownStrategy@3e71a1f8 with name: ShutdownTask. -> org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@1eb7ec59[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0][ShutdownTask]
05:51:55.097 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- There are 5 routes to shutdown
05:51:55.097 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route10 suspension deferred.
05:51:55.097 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route9 suspension deferred.
05:51:55.097 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route8 suspension deferred.
05:51:55.097 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route7 suspension deferred.
05:51:55.097 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route6 suspension deferred.
05:51:55.097 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route10 preparing to shutdown complete.
05:51:55.097 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route9 preparing to shutdown complete.
05:51:55.097 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route8 preparing to shutdown complete.
05:51:55.097 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route7 preparing to shutdown complete.
05:51:55.097 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route6 preparing to shutdown complete.
05:51:55.097 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://properties]
05:51:55.097 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29]
05:51:55.098 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route10 shutdown complete, was consuming from: direct://properties
05:51:55.098 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://headers]
05:51:55.098 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29]
05:51:55.098 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route9 shutdown complete, was consuming from: direct://headers
05:51:55.098 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://multiline]
05:51:55.098 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb]
05:51:55.098 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route8 shutdown complete, was consuming from: direct://multiline
05:51:55.098 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://multiline-encoded]
05:51:55.098 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK]
05:51:55.098 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route7 shutdown complete, was consuming from: direct://multiline-encoded
05:51:55.098 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://simple]
05:51:55.098 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://simple?rubyScript=$body.to_s.upcase]
05:51:55.098 [Camel (camel-2) thread #2 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route6 shutdown complete, was consuming from: direct://simple
05:51:55.098 [main] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Graceful shutdown of 5 routes completed in 2ms
05:51:55.098 [main] DEBUG org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager -- Shutting down with no inflight threads.
05:51:55.100 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://properties]
05:51:55.100 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://headers]
05:51:55.100 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://multiline]
05:51:55.100 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://multiline-encoded]
05:51:55.100 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://simple]
05:51:55.100 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Routes stopped (total:5)
05:51:55.100 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route10 (direct://properties)
05:51:55.101 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route9 (direct://headers)
05:51:55.101 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route8 (direct://multiline)
05:51:55.101 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route7 (direct://multiline-encoded)
05:51:55.101 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route6 (direct://simple)
05:51:55.101 [main] DEBUG org.apache.camel.impl.engine.BaseExecutorServiceManager -- Forcing shutdown of ExecutorService: org.apache.camel.util.concurrent.SizedScheduledExecutorService@55e5415d[ErrorHandlerRedeliveryTask]
05:51:55.105 [main] DEBUG org.apache.camel.impl.engine.DefaultBeanIntrospection -- Stopping BeanIntrospection which was invoked: 5 times
05:51:55.105 [main] DEBUG org.apache.camel.impl.engine.DefaultInflightRepository -- Shutting down with no inflight exchanges.
05:51:55.105 [main] DEBUG org.apache.camel.impl.engine.BaseExecutorServiceManager -- Forcing shutdown of ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@1eb7ec59[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1][ShutdownTask]
05:51:55.106 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-2) shutdown in 9ms (uptime:0s)
05:51:55.106 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- ********************************************************************************
05:51:55.106 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- Testing done: testSimpleRubyScript (com.n2nlab.ruby.RubyComponentTest)
05:51:55.106 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- Took: 635ms (635 millis)
05:51:55.106 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- ********************************************************************************
]]></system-out>
  </testcase>
  <testcase name="testMultiLineScript" classname="com.n2nlab.ruby.RubyComponentTest" time="0.592">
    <system-out><![CDATA[05:51:55.109 [main] DEBUG org.apache.camel.test.junit5.TransientCamelContextManager -- Initializing a new CamelContext
05:51:55.112 [main] DEBUG org.apache.camel.impl.engine.DefaultCamelContextExtension -- Setting up management with factory: org.apache.camel.impl.engine.DefaultManagementStrategyFactory@7cbede2b
05:51:55.113 [main] DEBUG org.apache.camel.support.ResolverHelper -- Found HealthCheckRegistry: org.apache.camel.impl.health.DefaultHealthCheckRegistry via: META-INF/services/org/apache/camel/health-check/default-registry
05:51:55.114 [main] DEBUG org.apache.camel.support.ResolverHelper -- Detected and using HealthCheckRegistry: org.apache.camel.impl.health.DefaultHealthCheckRegistry@215c6ec0
05:51:55.114 [main] DEBUG org.apache.camel.impl.health.DefaultHealthCheckRegistry -- HealthCheckRepository with id registry-health-check-repository successfully registered
05:51:55.116 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Loading file META-INF/services/org/apache/camel/TypeConverterLoader to retrieve list of type converters, from url: jar:file:/C:/Users/mahmoudxyz/.m2/repository/org/apache/camel/camel-support/4.8.0/camel-support-4.8.0.jar!/META-INF/services/org/apache/camel/TypeConverterLoader
05:51:55.116 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Loading file META-INF/services/org/apache/camel/TypeConverterLoader to retrieve list of type converters, from url: jar:file:/C:/Users/mahmoudxyz/.m2/repository/org/apache/camel/camel-base/4.8.0/camel-base-4.8.0.jar!/META-INF/services/org/apache/camel/TypeConverterLoader
05:51:55.116 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Loading file META-INF/services/org/apache/camel/TypeConverterLoader to retrieve list of type converters, from url: jar:file:/C:/Users/mahmoudxyz/.m2/repository/org/apache/camel/camel-file/4.8.0/camel-file-4.8.0.jar!/META-INF/services/org/apache/camel/TypeConverterLoader
05:51:55.116 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Loading file META-INF/services/org/apache/camel/TypeConverterLoader to retrieve list of type converters, from url: jar:file:/C:/Users/mahmoudxyz/.m2/repository/org/apache/camel/camel-xml-jaxp/4.8.0/camel-xml-jaxp-4.8.0.jar!/META-INF/services/org/apache/camel/TypeConverterLoader
05:51:55.116 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Resolving TypeConverterLoader: org.apache.camel.converter.stream.StreamCacheBulkConverterLoader
05:51:55.116 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- TypeConverterLoader: org.apache.camel.converter.stream.StreamCacheBulkConverterLoader loading converters
05:51:55.116 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Resolving TypeConverterLoader: org.apache.camel.converter.CamelBaseBulkConverterLoader
05:51:55.116 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- TypeConverterLoader: org.apache.camel.converter.CamelBaseBulkConverterLoader loading converters
05:51:55.116 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Resolving TypeConverterLoader: org.apache.camel.component.file.GenericFileConverterLoader
05:51:55.116 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- TypeConverterLoader: org.apache.camel.component.file.GenericFileConverterLoader loading converters
05:51:55.116 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Resolving TypeConverterLoader: org.apache.camel.converter.jaxp.CamelXmlJaxpBulkConverterLoader
05:51:55.116 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- TypeConverterLoader: org.apache.camel.converter.jaxp.CamelXmlJaxpBulkConverterLoader loading converters
05:51:55.116 [main] DEBUG org.apache.camel.impl.converter.DefaultTypeConverter -- Loaded 240 type converters in 1ms
05:51:55.117 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-3) built in 5ms
05:51:55.117 [main] DEBUG org.apache.camel.impl.engine.BaseExecutorServiceManager -- Created new ScheduledThreadPool for source: ErrorHandlerRedeliveryThreadPool with name: ErrorHandlerRedeliveryTask -> org.apache.camel.util.concurrent.SizedScheduledExecutorService@4b240276[ErrorHandlerRedeliveryTask]
05:51:55.119 [main] DEBUG org.apache.camel.impl.engine.DefaultCamelContextExtension -- Setting up management with factory: org.apache.camel.impl.engine.DefaultManagementStrategyFactory@2a5efbb9
05:51:55.120 [main] DEBUG org.apache.camel.support.ResolverHelper -- Found InternalProcessorFactory: org.apache.camel.processor.DefaultInternalProcessorFactory via: META-INF/services/org/apache/camel/internal-processor-factory
05:51:55.120 [main] DEBUG org.apache.camel.support.ResolverHelper -- Detected and using InternalProcessorFactory: org.apache.camel.processor.DefaultInternalProcessorFactory@1835b783
05:51:55.121 [main] DEBUG org.apache.camel.support.ResolverHelper -- Found PropertiesComponent: org.apache.camel.component.properties.PropertiesComponent via: META-INF/services/org/apache/camel/properties-component-factory
05:51:55.121 [main] DEBUG org.apache.camel.support.ResolverHelper -- Detected and using PropertiesComponent: org.apache.camel.component.properties.PropertiesComponent@1e6bd367
05:51:55.122 [main] DEBUG org.apache.camel.test.junit5.util.CamelContextTestHelper -- Using created route builder to add routes: Routes: []
05:51:55.122 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Adding routes from builder: Routes: []
05:51:55.123 [main] DEBUG org.apache.camel.test.junit5.util.CamelContextTestHelper -- Using created route builder to add templated routes: Routes: [Route[From[direct:simple] -> [To[ruby:simple?rubyScript=$body.to_s.upcase]]], Route[From[direct:multiline-encoded] -> [To[ruby:transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK]]], Route[From[direct:multiline] -> [To[ruby:transform?scriptPath=src/test/resources/scripts/transform_multiline.rb]]], Route[From[direct:headers] -> [To[ruby:headers?rubyScript=set_header('OutputHeader', get_header('InputHeader'))]]], Route[From[direct:properties] -> [To[ruby:properties?rubyScript=val = get_exchange_property('InputProperty'); set_exchange_property('OutputProperty', val + '-modified')]]]]
05:51:55.125 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Adding templated routes from builder: Routes: [Route[From[direct:simple] -> [To[ruby:simple?rubyScript=$body.to_s.upcase]]], Route[From[direct:multiline-encoded] -> [To[ruby:transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK]]], Route[From[direct:multiline] -> [To[ruby:transform?scriptPath=src/test/resources/scripts/transform_multiline.rb]]], Route[From[direct:headers] -> [To[ruby:headers?rubyScript=set_header('OutputHeader', get_header('InputHeader'))]]], Route[From[direct:properties] -> [To[ruby:properties?rubyScript=val = get_exchange_property('InputProperty'); set_exchange_property('OutputProperty', val + '-modified')]]]]
05:51:55.126 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Resolving language: simple
05:51:55.126 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Language with name simple in registry. Found: null
05:51:55.126 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Language with name simple-language in registry. Found: null
05:51:55.126 [main] DEBUG org.apache.camel.language.simple.SimpleLanguage -- Simple language predicate/expression cache size: 1000
05:51:55.128 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ComponentResolver: org.apache.camel.impl.engine.DefaultComponentResolver@5b2c7186 to resolve component with name: direct
05:51:55.128 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Component with name direct in registry. Found: null
05:51:55.128 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Component with name direct-component in registry. Found: null
05:51:55.130 [main] DEBUG org.apache.camel.impl.engine.DefaultComponentResolver -- Found component: direct via type: org.apache.camel.component.direct.DirectComponent via: META-INF/services/org/apache/camel/component/direct
05:51:55.131 [main] DEBUG org.apache.camel.impl.engine.DefaultConfigurerResolver -- Found configurer: direct-component via type: org.apache.camel.component.direct.DirectComponentConfigurer via: META-INF/services/org/apache/camel/configurer/direct-component
05:51:55.131 [main] DEBUG org.apache.camel.impl.engine.DefaultConfigurerResolver -- Found configurer: direct-endpoint via type: org.apache.camel.component.direct.DirectEndpointConfigurer via: META-INF/services/org/apache/camel/configurer/direct-endpoint
05:51:55.132 [main] DEBUG org.apache.camel.impl.engine.DefaultConfigurerResolver -- Found configurer: direct-component via type: org.apache.camel.component.direct.DirectComponentConfigurer via: META-INF/services/org/apache/camel/configurer/direct-component
05:51:55.132 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://simple], path=[simple]
05:51:55.132 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://simple converted to endpoint: direct://simple by component: org.apache.camel.component.direct.DirectComponent@7ae0a26
05:51:55.133 [main] DEBUG org.apache.camel.support.ResolverHelper -- Found ProcessorFactory: org.apache.camel.processor.DefaultProcessorFactory via: META-INF/services/org/apache/camel/processor-factory
05:51:55.133 [main] DEBUG org.apache.camel.support.ResolverHelper -- Detected and using ProcessorFactory: org.apache.camel.processor.DefaultProcessorFactory@fcd3a6f
05:51:55.133 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ComponentResolver: org.apache.camel.impl.engine.DefaultComponentResolver@5b2c7186 to resolve component with name: ruby
05:51:55.133 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Component with name ruby in registry. Found: null
05:51:55.133 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Component with name ruby-component in registry. Found: null
05:51:55.135 [main] DEBUG org.apache.camel.impl.engine.DefaultComponentResolver -- Found component: ruby via type: com.n2nlab.ruby.RubyComponent via: META-INF/services/org/apache/camel/component/ruby
05:51:55.136 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://simple?rubyScript=$body.to_s.upcase], path=[simple]
05:51:55.136 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://simple?rubyScript=$body.to_s.upcase
05:51:55.136 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://simple?rubyScript=$body.to_s.upcase converted to endpoint: ruby://simple?rubyScript=$body.to_s.upcase by component: com.n2nlab.ruby.RubyComponent@7845ee8a
05:51:55.138 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://multiline-encoded], path=[multiline-encoded]
05:51:55.139 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://multiline-encoded converted to endpoint: direct://multiline-encoded by component: org.apache.camel.component.direct.DirectComponent@7ae0a26
05:51:55.143 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK], path=[transform]
05:51:55.143 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK
05:51:55.147 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK converted to endpoint: ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK by component: com.n2nlab.ruby.RubyComponent@7845ee8a
05:51:55.153 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://multiline], path=[multiline]
05:51:55.153 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://multiline converted to endpoint: direct://multiline by component: org.apache.camel.component.direct.DirectComponent@7ae0a26
05:51:55.153 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb], path=[transform]
05:51:55.154 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb
05:51:55.154 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb converted to endpoint: ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb by component: com.n2nlab.ruby.RubyComponent@7845ee8a
05:51:55.155 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://headers], path=[headers]
05:51:55.155 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://headers converted to endpoint: direct://headers by component: org.apache.camel.component.direct.DirectComponent@7ae0a26
05:51:55.155 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29], path=[headers]
05:51:55.155 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29
05:51:55.156 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29 converted to endpoint: ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29 by component: com.n2nlab.ruby.RubyComponent@7845ee8a
05:51:55.156 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://properties], path=[properties]
05:51:55.157 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://properties converted to endpoint: direct://properties by component: org.apache.camel.component.direct.DirectComponent@7ae0a26
05:51:55.157 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29], path=[properties]
05:51:55.157 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29
05:51:55.158 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29 converted to endpoint: ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29 by component: com.n2nlab.ruby.RubyComponent@7845ee8a
05:51:55.158 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route11
05:51:55.158 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route12
05:51:55.158 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route13
05:51:55.158 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route14
05:51:55.158 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route15
05:51:55.158 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-3) initialized in 33ms
05:51:55.158 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-3) is starting
05:51:55.158 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ClassResolver=org.apache.camel.impl.engine.DefaultClassResolver@147059f8, PackageScanClassResolver=org.apache.camel.impl.engine.DefaultPackageScanClassResolver@744fb110, ApplicationContextClassLoader=null, RouteController=org.apache.camel.impl.engine.DefaultRouteController@838e109
05:51:55.159 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- StreamCaching is disabled on CamelContext: camel-3
05:51:55.159 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using HeadersMapFactory: org.apache.camel.impl.engine.DefaultHeadersMapFactory@7474196
05:51:55.159 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ReactiveExecutor: org.apache.camel.impl.engine.DefaultReactiveExecutor@11ee671f
05:51:55.159 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ThreadPoolFactory: org.apache.camel.support.DefaultThreadPoolFactory@18209303
05:51:55.159 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using HealthCheck: camel-health
05:51:55.159 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route11 having autoStartup=true
05:51:55.161 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://simple?rubyScript=$body.to_s.upcase]
05:51:55.161 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route12 having autoStartup=true
05:51:55.161 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK]
05:51:55.163 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route13 having autoStartup=true
05:51:55.164 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb]
05:51:55.164 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route14 having autoStartup=true
05:51:55.164 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29]
05:51:55.164 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route15 having autoStartup=true
05:51:55.164 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29]
05:51:55.164 [main] DEBUG org.apache.camel.impl.engine.DefaultStreamCachingStrategy -- StreamCaching configuration DefaultStreamCachingStrategy[spoolDirectoryEnabled=false, spoolDirectory=null, spoolCipher=null, spoolThreshold=131072, spoolUsedHeapMemoryThreshold=0, bufferSize=16384, anySpoolRules=false]
05:51:55.164 [main] DEBUG org.apache.camel.impl.engine.DefaultStreamCachingStrategy -- StreamCaching in use
05:51:55.165 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route11 >>> Route[direct://simple -> null]
05:51:55.165 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1000) on route: route11
05:51:55.165 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://simple]
05:51:55.165 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://simple]
05:51:55.165 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://simple]
05:51:55.165 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route11 started and consuming from: direct://simple
05:51:55.165 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route12 >>> Route[direct://multiline-encoded -> null]
05:51:55.165 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1001) on route: route12
05:51:55.165 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://multiline-encoded]
05:51:55.165 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://multiline-encoded]
05:51:55.165 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://multiline-encoded]
05:51:55.165 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route12 started and consuming from: direct://multiline-encoded
05:51:55.165 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route13 >>> Route[direct://multiline -> null]
05:51:55.165 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1002) on route: route13
05:51:55.165 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://multiline]
05:51:55.165 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://multiline]
05:51:55.165 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://multiline]
05:51:55.165 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route13 started and consuming from: direct://multiline
05:51:55.165 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route14 >>> Route[direct://headers -> null]
05:51:55.165 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1003) on route: route14
05:51:55.165 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://headers]
05:51:55.165 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://headers]
05:51:55.165 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://headers]
05:51:55.165 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route14 started and consuming from: direct://headers
05:51:55.165 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route15 >>> Route[direct://properties -> null]
05:51:55.166 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1004) on route: route15
05:51:55.166 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://properties]
05:51:55.166 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://properties]
05:51:55.166 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://properties]
05:51:55.166 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route15 started and consuming from: direct://properties
05:51:55.166 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- BeanIntrospection invoked 5 times during starting Camel
05:51:55.166 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Routes startup (total:5)
05:51:55.166 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route11 (direct://simple)
05:51:55.166 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route12 (direct://multiline-encoded)
05:51:55.166 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route13 (direct://multiline)
05:51:55.166 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route14 (direct://headers)
05:51:55.166 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route15 (direct://properties)
05:51:55.166 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-3) started in 45ms (build:5ms init:33ms start:7ms)
05:51:55.166 [main] DEBUG org.apache.camel.impl.DefaultCamelContext -- start() took 41 millis
05:51:55.166 [main] DEBUG org.apache.camel.test.junit5.TransientCamelContextManager -- Routing Rules are: [Route[direct://simple -> null], Route[direct://multiline-encoded -> null], Route[direct://multiline -> null], Route[direct://headers -> null], Route[direct://properties -> null]]
05:51:55.167 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- ********************************************************************************
05:51:55.167 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- Testing: testMultiLineScript() (com.n2nlab.ruby.RubyComponentTest)
05:51:55.167 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- ********************************************************************************
05:51:55.168 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[direct://multiline]
05:51:55.168 [main] DEBUG org.apache.camel.support.cache.DefaultProducerCache -- >>>> direct://multiline Exchange[]
05:51:55.168 [main] DEBUG org.apache.camel.processor.SendProcessor -- >>>> ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb Exchange[]
05:51:55.695 [main] DEBUG org.apache.camel.test.junit5.CamelTestSupport -- tearDown()
05:51:55.695 [main] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[direct://multiline]
05:51:55.695 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-3) is shutting down (timeout:10s)
05:51:55.695 [main] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Starting to graceful shutdown 5 routes (timeout 10 seconds)
05:51:55.695 [main] DEBUG org.apache.camel.impl.engine.BaseExecutorServiceManager -- Created new ThreadPool for source: org.apache.camel.impl.engine.DefaultShutdownStrategy@4eec5fa6 with name: ShutdownTask. -> org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@3c271988[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0][ShutdownTask]
05:51:55.696 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- There are 5 routes to shutdown
05:51:55.696 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route15 suspension deferred.
05:51:55.696 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route14 suspension deferred.
05:51:55.696 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route13 suspension deferred.
05:51:55.696 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route12 suspension deferred.
05:51:55.696 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route11 suspension deferred.
05:51:55.696 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route15 preparing to shutdown complete.
05:51:55.696 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route14 preparing to shutdown complete.
05:51:55.696 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route13 preparing to shutdown complete.
05:51:55.696 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route12 preparing to shutdown complete.
05:51:55.696 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route11 preparing to shutdown complete.
05:51:55.696 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://properties]
05:51:55.696 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29]
05:51:55.697 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route15 shutdown complete, was consuming from: direct://properties
05:51:55.697 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://headers]
05:51:55.697 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29]
05:51:55.697 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route14 shutdown complete, was consuming from: direct://headers
05:51:55.697 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://multiline]
05:51:55.697 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb]
05:51:55.697 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route13 shutdown complete, was consuming from: direct://multiline
05:51:55.697 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://multiline-encoded]
05:51:55.697 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK]
05:51:55.697 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route12 shutdown complete, was consuming from: direct://multiline-encoded
05:51:55.697 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://simple]
05:51:55.697 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://simple?rubyScript=$body.to_s.upcase]
05:51:55.697 [Camel (camel-3) thread #3 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route11 shutdown complete, was consuming from: direct://simple
05:51:55.697 [main] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Graceful shutdown of 5 routes completed in 2ms
05:51:55.697 [main] DEBUG org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager -- Shutting down with no inflight threads.
05:51:55.697 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://properties]
05:51:55.699 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://headers]
05:51:55.699 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://multiline]
05:51:55.699 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://multiline-encoded]
05:51:55.699 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://simple]
05:51:55.699 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Routes stopped (total:5)
05:51:55.699 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route15 (direct://properties)
05:51:55.699 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route14 (direct://headers)
05:51:55.699 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route13 (direct://multiline)
05:51:55.699 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route12 (direct://multiline-encoded)
05:51:55.699 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route11 (direct://simple)
05:51:55.699 [main] DEBUG org.apache.camel.impl.engine.BaseExecutorServiceManager -- Forcing shutdown of ExecutorService: org.apache.camel.util.concurrent.SizedScheduledExecutorService@4b240276[ErrorHandlerRedeliveryTask]
05:51:55.699 [main] DEBUG org.apache.camel.impl.engine.DefaultBeanIntrospection -- Stopping BeanIntrospection which was invoked: 5 times
05:51:55.699 [main] DEBUG org.apache.camel.impl.engine.DefaultInflightRepository -- Shutting down with no inflight exchanges.
05:51:55.699 [main] DEBUG org.apache.camel.impl.engine.BaseExecutorServiceManager -- Forcing shutdown of ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@3c271988[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1][ShutdownTask]
05:51:55.699 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-3) shutdown in 4ms (uptime:0s)
05:51:55.700 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- ********************************************************************************
05:51:55.700 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- Testing done: testMultiLineScript (com.n2nlab.ruby.RubyComponentTest)
05:51:55.700 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- Took: 532ms (532 millis)
05:51:55.700 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- ********************************************************************************
]]></system-out>
  </testcase>
  <testcase name="testHeaderManipulation" classname="com.n2nlab.ruby.RubyComponentTest" time="0.47">
    <system-out><![CDATA[05:51:55.702 [main] DEBUG org.apache.camel.test.junit5.TransientCamelContextManager -- Initializing a new CamelContext
05:51:55.703 [main] DEBUG org.apache.camel.impl.engine.DefaultCamelContextExtension -- Setting up management with factory: org.apache.camel.impl.engine.DefaultManagementStrategyFactory@25b83dce
05:51:55.704 [main] DEBUG org.apache.camel.support.ResolverHelper -- Found HealthCheckRegistry: org.apache.camel.impl.health.DefaultHealthCheckRegistry via: META-INF/services/org/apache/camel/health-check/default-registry
05:51:55.704 [main] DEBUG org.apache.camel.support.ResolverHelper -- Detected and using HealthCheckRegistry: org.apache.camel.impl.health.DefaultHealthCheckRegistry@45e35a0d
05:51:55.704 [main] DEBUG org.apache.camel.impl.health.DefaultHealthCheckRegistry -- HealthCheckRepository with id registry-health-check-repository successfully registered
05:51:55.704 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Loading file META-INF/services/org/apache/camel/TypeConverterLoader to retrieve list of type converters, from url: jar:file:/C:/Users/mahmoudxyz/.m2/repository/org/apache/camel/camel-support/4.8.0/camel-support-4.8.0.jar!/META-INF/services/org/apache/camel/TypeConverterLoader
05:51:55.704 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Loading file META-INF/services/org/apache/camel/TypeConverterLoader to retrieve list of type converters, from url: jar:file:/C:/Users/mahmoudxyz/.m2/repository/org/apache/camel/camel-base/4.8.0/camel-base-4.8.0.jar!/META-INF/services/org/apache/camel/TypeConverterLoader
05:51:55.704 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Loading file META-INF/services/org/apache/camel/TypeConverterLoader to retrieve list of type converters, from url: jar:file:/C:/Users/mahmoudxyz/.m2/repository/org/apache/camel/camel-file/4.8.0/camel-file-4.8.0.jar!/META-INF/services/org/apache/camel/TypeConverterLoader
05:51:55.704 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Loading file META-INF/services/org/apache/camel/TypeConverterLoader to retrieve list of type converters, from url: jar:file:/C:/Users/mahmoudxyz/.m2/repository/org/apache/camel/camel-xml-jaxp/4.8.0/camel-xml-jaxp-4.8.0.jar!/META-INF/services/org/apache/camel/TypeConverterLoader
05:51:55.704 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Resolving TypeConverterLoader: org.apache.camel.converter.stream.StreamCacheBulkConverterLoader
05:51:55.706 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- TypeConverterLoader: org.apache.camel.converter.stream.StreamCacheBulkConverterLoader loading converters
05:51:55.706 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Resolving TypeConverterLoader: org.apache.camel.converter.CamelBaseBulkConverterLoader
05:51:55.706 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- TypeConverterLoader: org.apache.camel.converter.CamelBaseBulkConverterLoader loading converters
05:51:55.706 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Resolving TypeConverterLoader: org.apache.camel.component.file.GenericFileConverterLoader
05:51:55.706 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- TypeConverterLoader: org.apache.camel.component.file.GenericFileConverterLoader loading converters
05:51:55.706 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- Resolving TypeConverterLoader: org.apache.camel.converter.jaxp.CamelXmlJaxpBulkConverterLoader
05:51:55.706 [main] DEBUG org.apache.camel.impl.converter.BaseTypeConverterRegistry -- TypeConverterLoader: org.apache.camel.converter.jaxp.CamelXmlJaxpBulkConverterLoader loading converters
05:51:55.706 [main] DEBUG org.apache.camel.impl.converter.DefaultTypeConverter -- Loaded 240 type converters in 0ms
05:51:55.706 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-4) built in 2ms
05:51:55.706 [main] DEBUG org.apache.camel.impl.engine.BaseExecutorServiceManager -- Created new ScheduledThreadPool for source: ErrorHandlerRedeliveryThreadPool with name: ErrorHandlerRedeliveryTask -> org.apache.camel.util.concurrent.SizedScheduledExecutorService@55574295[ErrorHandlerRedeliveryTask]
05:51:55.707 [main] DEBUG org.apache.camel.impl.engine.DefaultCamelContextExtension -- Setting up management with factory: org.apache.camel.impl.engine.DefaultManagementStrategyFactory@750457a5
05:51:55.708 [main] DEBUG org.apache.camel.support.ResolverHelper -- Found InternalProcessorFactory: org.apache.camel.processor.DefaultInternalProcessorFactory via: META-INF/services/org/apache/camel/internal-processor-factory
05:51:55.708 [main] DEBUG org.apache.camel.support.ResolverHelper -- Detected and using InternalProcessorFactory: org.apache.camel.processor.DefaultInternalProcessorFactory@a6a2c20
05:51:55.709 [main] DEBUG org.apache.camel.support.ResolverHelper -- Found PropertiesComponent: org.apache.camel.component.properties.PropertiesComponent via: META-INF/services/org/apache/camel/properties-component-factory
05:51:55.709 [main] DEBUG org.apache.camel.support.ResolverHelper -- Detected and using PropertiesComponent: org.apache.camel.component.properties.PropertiesComponent@5c7e55a4
05:51:55.710 [main] DEBUG org.apache.camel.test.junit5.util.CamelContextTestHelper -- Using created route builder to add routes: Routes: []
05:51:55.710 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Adding routes from builder: Routes: []
05:51:55.710 [main] DEBUG org.apache.camel.test.junit5.util.CamelContextTestHelper -- Using created route builder to add templated routes: Routes: [Route[From[direct:simple] -> [To[ruby:simple?rubyScript=$body.to_s.upcase]]], Route[From[direct:multiline-encoded] -> [To[ruby:transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK]]], Route[From[direct:multiline] -> [To[ruby:transform?scriptPath=src/test/resources/scripts/transform_multiline.rb]]], Route[From[direct:headers] -> [To[ruby:headers?rubyScript=set_header('OutputHeader', get_header('InputHeader'))]]], Route[From[direct:properties] -> [To[ruby:properties?rubyScript=val = get_exchange_property('InputProperty'); set_exchange_property('OutputProperty', val + '-modified')]]]]
05:51:55.713 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Adding templated routes from builder: Routes: [Route[From[direct:simple] -> [To[ruby:simple?rubyScript=$body.to_s.upcase]]], Route[From[direct:multiline-encoded] -> [To[ruby:transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK]]], Route[From[direct:multiline] -> [To[ruby:transform?scriptPath=src/test/resources/scripts/transform_multiline.rb]]], Route[From[direct:headers] -> [To[ruby:headers?rubyScript=set_header('OutputHeader', get_header('InputHeader'))]]], Route[From[direct:properties] -> [To[ruby:properties?rubyScript=val = get_exchange_property('InputProperty'); set_exchange_property('OutputProperty', val + '-modified')]]]]
05:51:55.715 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Resolving language: simple
05:51:55.715 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Language with name simple in registry. Found: null
05:51:55.715 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Language with name simple-language in registry. Found: null
05:51:55.715 [main] DEBUG org.apache.camel.language.simple.SimpleLanguage -- Simple language predicate/expression cache size: 1000
05:51:55.716 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ComponentResolver: org.apache.camel.impl.engine.DefaultComponentResolver@43f7f48d to resolve component with name: direct
05:51:55.716 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Component with name direct in registry. Found: null
05:51:55.716 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Component with name direct-component in registry. Found: null
05:51:55.716 [main] DEBUG org.apache.camel.impl.engine.DefaultComponentResolver -- Found component: direct via type: org.apache.camel.component.direct.DirectComponent via: META-INF/services/org/apache/camel/component/direct
05:51:55.717 [main] DEBUG org.apache.camel.impl.engine.DefaultConfigurerResolver -- Found configurer: direct-component via type: org.apache.camel.component.direct.DirectComponentConfigurer via: META-INF/services/org/apache/camel/configurer/direct-component
05:51:55.717 [main] DEBUG org.apache.camel.impl.engine.DefaultConfigurerResolver -- Found configurer: direct-endpoint via type: org.apache.camel.component.direct.DirectEndpointConfigurer via: META-INF/services/org/apache/camel/configurer/direct-endpoint
05:51:55.717 [main] DEBUG org.apache.camel.impl.engine.DefaultConfigurerResolver -- Found configurer: direct-component via type: org.apache.camel.component.direct.DirectComponentConfigurer via: META-INF/services/org/apache/camel/configurer/direct-component
05:51:55.717 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://simple], path=[simple]
05:51:55.717 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://simple converted to endpoint: direct://simple by component: org.apache.camel.component.direct.DirectComponent@68543a35
05:51:55.718 [main] DEBUG org.apache.camel.support.ResolverHelper -- Found ProcessorFactory: org.apache.camel.processor.DefaultProcessorFactory via: META-INF/services/org/apache/camel/processor-factory
05:51:55.718 [main] DEBUG org.apache.camel.support.ResolverHelper -- Detected and using ProcessorFactory: org.apache.camel.processor.DefaultProcessorFactory@4cefa0be
05:51:55.719 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ComponentResolver: org.apache.camel.impl.engine.DefaultComponentResolver@43f7f48d to resolve component with name: ruby
05:51:55.719 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Component with name ruby in registry. Found: null
05:51:55.719 [main] DEBUG org.apache.camel.support.ResolverHelper -- Lookup Component with name ruby-component in registry. Found: null
05:51:55.720 [main] DEBUG org.apache.camel.impl.engine.DefaultComponentResolver -- Found component: ruby via type: com.n2nlab.ruby.RubyComponent via: META-INF/services/org/apache/camel/component/ruby
05:51:55.721 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://simple?rubyScript=$body.to_s.upcase], path=[simple]
05:51:55.721 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://simple?rubyScript=$body.to_s.upcase
05:51:55.722 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://simple?rubyScript=$body.to_s.upcase converted to endpoint: ruby://simple?rubyScript=$body.to_s.upcase by component: com.n2nlab.ruby.RubyComponent@5a3be84
05:51:55.722 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://multiline-encoded], path=[multiline-encoded]
05:51:55.722 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://multiline-encoded converted to endpoint: direct://multiline-encoded by component: org.apache.camel.component.direct.DirectComponent@68543a35
05:51:55.725 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK], path=[transform]
05:51:55.725 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK
05:51:55.727 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK converted to endpoint: ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK by component: com.n2nlab.ruby.RubyComponent@5a3be84
05:51:55.730 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://multiline], path=[multiline]
05:51:55.730 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://multiline converted to endpoint: direct://multiline by component: org.apache.camel.component.direct.DirectComponent@68543a35
05:51:55.730 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb], path=[transform]
05:51:55.730 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb
05:51:55.730 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb converted to endpoint: ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb by component: com.n2nlab.ruby.RubyComponent@5a3be84
05:51:55.730 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://headers], path=[headers]
05:51:55.731 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://headers converted to endpoint: direct://headers by component: org.apache.camel.component.direct.DirectComponent@68543a35
05:51:55.731 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29], path=[headers]
05:51:55.731 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29
05:51:55.731 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29 converted to endpoint: ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29 by component: com.n2nlab.ruby.RubyComponent@5a3be84
05:51:55.731 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[direct://properties], path=[properties]
05:51:55.731 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- direct://properties converted to endpoint: direct://properties by component: org.apache.camel.component.direct.DirectComponent@68543a35
05:51:55.733 [main] DEBUG org.apache.camel.support.DefaultComponent -- Creating endpoint uri=[ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29], path=[properties]
05:51:55.733 [main] DEBUG com.n2nlab.ruby.RubyComponent -- Creating Ruby endpoint: ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29
05:51:55.733 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29 converted to endpoint: ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29 by component: com.n2nlab.ruby.RubyComponent@5a3be84
05:51:55.733 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route16
05:51:55.734 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route17
05:51:55.734 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route18
05:51:55.734 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route19
05:51:55.734 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Initializing route id: route20
05:51:55.734 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-4) initialized in 20ms
05:51:55.734 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-4) is starting
05:51:55.734 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ClassResolver=org.apache.camel.impl.engine.DefaultClassResolver@29e3c28, PackageScanClassResolver=org.apache.camel.impl.engine.DefaultPackageScanClassResolver@480994d3, ApplicationContextClassLoader=null, RouteController=org.apache.camel.impl.engine.DefaultRouteController@7146c6ea
05:51:55.734 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- StreamCaching is disabled on CamelContext: camel-4
05:51:55.735 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using HeadersMapFactory: org.apache.camel.impl.engine.DefaultHeadersMapFactory@a5d23c9
05:51:55.735 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ReactiveExecutor: org.apache.camel.impl.engine.DefaultReactiveExecutor@795131d6
05:51:55.735 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using ThreadPoolFactory: org.apache.camel.support.DefaultThreadPoolFactory@7d7a8d23
05:51:55.735 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- Using HealthCheck: camel-health
05:51:55.735 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route16 having autoStartup=true
05:51:55.735 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://simple?rubyScript=$body.to_s.upcase]
05:51:55.735 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route17 having autoStartup=true
05:51:55.735 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK]
05:51:55.738 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route18 having autoStartup=true
05:51:55.738 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb]
05:51:55.738 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route19 having autoStartup=true
05:51:55.738 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29]
05:51:55.739 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Warming up route id: route20 having autoStartup=true
05:51:55.739 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29]
05:51:55.739 [main] DEBUG org.apache.camel.impl.engine.DefaultStreamCachingStrategy -- StreamCaching configuration DefaultStreamCachingStrategy[spoolDirectoryEnabled=false, spoolDirectory=null, spoolCipher=null, spoolThreshold=131072, spoolUsedHeapMemoryThreshold=0, bufferSize=16384, anySpoolRules=false]
05:51:55.739 [main] DEBUG org.apache.camel.impl.engine.DefaultStreamCachingStrategy -- StreamCaching in use
05:51:55.739 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route16 >>> Route[direct://simple -> null]
05:51:55.739 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1000) on route: route16
05:51:55.739 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://simple]
05:51:55.739 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://simple]
05:51:55.739 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://simple]
05:51:55.739 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route16 started and consuming from: direct://simple
05:51:55.739 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route17 >>> Route[direct://multiline-encoded -> null]
05:51:55.739 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1001) on route: route17
05:51:55.739 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://multiline-encoded]
05:51:55.739 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://multiline-encoded]
05:51:55.739 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://multiline-encoded]
05:51:55.739 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route17 started and consuming from: direct://multiline-encoded
05:51:55.739 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route18 >>> Route[direct://multiline -> null]
05:51:55.739 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1002) on route: route18
05:51:55.739 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://multiline]
05:51:55.739 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://multiline]
05:51:55.739 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://multiline]
05:51:55.739 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route18 started and consuming from: direct://multiline
05:51:55.740 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route19 >>> Route[direct://headers -> null]
05:51:55.740 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1003) on route: route19
05:51:55.740 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://headers]
05:51:55.740 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://headers]
05:51:55.740 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://headers]
05:51:55.740 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route19 started and consuming from: direct://headers
05:51:55.740 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route20 >>> Route[direct://properties -> null]
05:51:55.740 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Starting consumer (order: 1004) on route: route20
05:51:55.740 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Build consumer: Consumer[direct://properties]
05:51:55.740 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Init consumer: Consumer[direct://properties]
05:51:55.740 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Starting consumer: Consumer[direct://properties]
05:51:55.740 [main] DEBUG org.apache.camel.impl.engine.InternalRouteStartupManager -- Route: route20 started and consuming from: direct://properties
05:51:55.740 [main] DEBUG org.apache.camel.impl.engine.AbstractCamelContext -- BeanIntrospection invoked 5 times during starting Camel
05:51:55.740 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Routes startup (total:5)
05:51:55.740 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route16 (direct://simple)
05:51:55.740 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route17 (direct://multiline-encoded)
05:51:55.740 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route18 (direct://multiline)
05:51:55.740 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route19 (direct://headers)
05:51:55.740 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Started route20 (direct://properties)
05:51:55.740 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-4) started in 28ms (build:2ms init:20ms start:6ms)
05:51:55.740 [main] DEBUG org.apache.camel.impl.DefaultCamelContext -- start() took 26 millis
05:51:55.740 [main] DEBUG org.apache.camel.test.junit5.TransientCamelContextManager -- Routing Rules are: [Route[direct://simple -> null], Route[direct://multiline-encoded -> null], Route[direct://multiline -> null], Route[direct://headers -> null], Route[direct://properties -> null]]
05:51:55.740 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- ********************************************************************************
05:51:55.740 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- Testing: testHeaderManipulation() (com.n2nlab.ruby.RubyComponentTest)
05:51:55.740 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- ********************************************************************************
05:51:55.742 [main] DEBUG org.apache.camel.support.DefaultProducer -- Starting producer: Producer[direct://headers]
05:51:55.742 [main] DEBUG org.apache.camel.support.cache.DefaultProducerCache -- >>>> direct://headers Exchange[]
05:51:55.742 [main] DEBUG org.apache.camel.processor.SendProcessor -- >>>> ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29 Exchange[]
05:51:56.168 [main] DEBUG org.apache.camel.test.junit5.CamelTestSupport -- tearDown()
05:51:56.168 [main] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[direct://headers]
05:51:56.168 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-4) is shutting down (timeout:10s)
05:51:56.168 [main] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Starting to graceful shutdown 5 routes (timeout 10 seconds)
05:51:56.169 [main] DEBUG org.apache.camel.impl.engine.BaseExecutorServiceManager -- Created new ThreadPool for source: org.apache.camel.impl.engine.DefaultShutdownStrategy@6f695077 with name: ShutdownTask. -> org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@48126a17[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0][ShutdownTask]
05:51:56.169 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- There are 5 routes to shutdown
05:51:56.169 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route20 suspension deferred.
05:51:56.169 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route19 suspension deferred.
05:51:56.169 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route18 suspension deferred.
05:51:56.169 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route17 suspension deferred.
05:51:56.169 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route16 suspension deferred.
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route20 preparing to shutdown complete.
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route19 preparing to shutdown complete.
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route18 preparing to shutdown complete.
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route17 preparing to shutdown complete.
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route16 preparing to shutdown complete.
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://properties]
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://properties?rubyScript=val+%3D+get_exchange_property%28%27InputProperty%27%29%3B+set_exchange_property%28%27OutputProperty%27%2C+val+++%27-modified%27%29]
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route20 shutdown complete, was consuming from: direct://properties
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://headers]
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://headers?rubyScript=set_header%28%27OutputHeader%27%2C+get_header%28%27InputHeader%27%29%29]
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route19 shutdown complete, was consuming from: direct://headers
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://multiline]
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://transform?scriptPath=src/test/resources/scripts/transform_multiline.rb]
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route18 shutdown complete, was consuming from: direct://multiline
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://multiline-encoded]
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://transform?encodedScript=IyBHZXQgdGhlIGlucHV0IGJvZHkgYW5kIG5vcm1hbGl6ZSB3aGl0ZXNwYWNlCmlucHV0ID0gJGJvZHkudG9fcy5nc3ViKC9ccysvLCAnICcpLnN0cmlwCm9yaWdpbmFsX2xlbmd0aCA9IGlucHV0Lmxlbmd0aAoKIyBBZGQgcHJvY2Vzc2luZyBtZXRhZGF0YQpzZXRfaGVhZGVyKCdQcm9jZXNzZWRCeScsICdSdWJ5U2NyaXB0JykKc2V0X2hlYWRlcignUHJvY2Vzc2luZ1RpbWUnLCBUaW1lLm5vdy50b19zKQoKIyBUcmFuc2Zvcm0gdGhlIGRhdGEKdHJhbnNmb3JtZWQgPSBpbnB1dC51cGNhc2UKdHJhbnNmb3JtZWRfbGVuZ3RoID0gdHJhbnNmb3JtZWQubGVuZ3RoCgojIEFkZCBtZXRhZGF0YQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ29yaWdpbmFsTGVuZ3RoJywgb3JpZ2luYWxfbGVuZ3RoKQpzZXRfZXhjaGFuZ2VfcHJvcGVydHkoJ3RyYW5zZm9ybWVkTGVuZ3RoJywgdHJhbnNmb3JtZWRfbGVuZ3RoKQoKIyBTZXQgc3RhdHVzIGJhc2VkIG9uIGxlbmd0aApzZXRfaGVhZGVyKCdTdGF0dXMnLCB0cmFuc2Zvcm1lZF9sZW5ndGggPiAxMDAgPyAnTEFSR0VfTUVTU0FHRScgOiAnTk9STUFMJykKCiMgUmV0dXJuIHRyYW5zZm9ybWVkIGRhdGEKdHJhbnNmb3JtZWQK]
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route17 shutdown complete, was consuming from: direct://multiline-encoded
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.support.DefaultConsumer -- Stopping consumer: Consumer[direct://simple]
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.support.DefaultProducer -- Stopping producer: Producer[ruby://simple?rubyScript=$body.to_s.upcase]
05:51:56.170 [Camel (camel-4) thread #4 - ShutdownTask] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Route: route16 shutdown complete, was consuming from: direct://simple
05:51:56.170 [main] DEBUG org.apache.camel.impl.engine.DefaultShutdownStrategy -- Graceful shutdown of 5 routes completed in 1ms
05:51:56.170 [main] DEBUG org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager -- Shutting down with no inflight threads.
05:51:56.170 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://properties]
05:51:56.170 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://headers]
05:51:56.170 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://multiline]
05:51:56.171 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://multiline-encoded]
05:51:56.171 [main] DEBUG org.apache.camel.support.DefaultConsumer -- Shutting down consumer: Consumer[direct://simple]
05:51:56.171 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Routes stopped (total:5)
05:51:56.171 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route20 (direct://properties)
05:51:56.171 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route19 (direct://headers)
05:51:56.171 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route18 (direct://multiline)
05:51:56.171 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route17 (direct://multiline-encoded)
05:51:56.171 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext --     Stopped route16 (direct://simple)
05:51:56.171 [main] DEBUG org.apache.camel.impl.engine.BaseExecutorServiceManager -- Forcing shutdown of ExecutorService: org.apache.camel.util.concurrent.SizedScheduledExecutorService@55574295[ErrorHandlerRedeliveryTask]
05:51:56.171 [main] DEBUG org.apache.camel.impl.engine.DefaultBeanIntrospection -- Stopping BeanIntrospection which was invoked: 5 times
05:51:56.171 [main] DEBUG org.apache.camel.impl.engine.DefaultInflightRepository -- Shutting down with no inflight exchanges.
05:51:56.171 [main] DEBUG org.apache.camel.impl.engine.BaseExecutorServiceManager -- Forcing shutdown of ExecutorService: org.apache.camel.util.concurrent.RejectableThreadPoolExecutor@48126a17[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1][ShutdownTask]
05:51:56.171 [main] INFO org.apache.camel.impl.engine.AbstractCamelContext -- Apache Camel 4.8.0 (camel-4) shutdown in 2ms (uptime:0s)
05:51:56.171 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- ********************************************************************************
05:51:56.171 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- Testing done: testHeaderManipulation (com.n2nlab.ruby.RubyComponentTest)
05:51:56.171 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- Took: 431ms (431 millis)
05:51:56.171 [main] INFO org.apache.camel.test.junit5.util.ExtensionHelper -- ********************************************************************************
]]></system-out>
  </testcase>
</testsuite>